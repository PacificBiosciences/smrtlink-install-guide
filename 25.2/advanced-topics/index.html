
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://install.smrtlink.how/25.2/advanced-topics/">
      
      
        <link rel="prev" href="../instrument-connection/">
      
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Advanced Topics - SMRT Link Install Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-topics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're not viewing the latest version.
  <a href="../.."> 
    <strong>Click here to go to latest.</strong>
  </a>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="SMRT Link Install Guide" class="md-header__button md-logo" aria-label="SMRT Link Install Guide" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            SMRT Link Install Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Advanced Topics
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="SMRT Link Install Guide" class="md-nav__button md-logo" aria-label="SMRT Link Install Guide" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    SMRT Link Install Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../system-requirements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Requirements
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installing-smrt-link/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installing SMRT Link
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading-smrt-link/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upgrading SMRT Link
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../instrument-connection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Instrument Connection
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Advanced Topics
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Advanced Topics
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#user-management" class="md-nav__link">
    <span class="md-ellipsis">
      User management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smrt-link-user-roles" class="md-nav__link">
    <span class="md-ellipsis">
      SMRT Link user roles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-the-keycloak-admin-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling the Keycloak admin interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-default-passwords" class="md-nav__link">
    <span class="md-ellipsis">
      Changing default passwords
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ldap-integration" class="md-nav__link">
    <span class="md-ellipsis">
      LDAP integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-local-users" class="md-nav__link">
    <span class="md-ellipsis">
      Adding local users
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssltls" class="md-nav__link">
    <span class="md-ellipsis">
      SSL/TLS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      API documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lims-integration" class="md-nav__link">
    <span class="md-ellipsis">
      LIMS integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-backups" class="md-nav__link">
    <span class="md-ellipsis">
      Database backups
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-log-files-to-pacbio-technical-support" class="md-nav__link">
    <span class="md-ellipsis">
      Sending log files to PacBio Technical Support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-usage-tracking-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Changing usage tracking settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-smrt-link-automatically-on-server-boot" class="md-nav__link">
    <span class="md-ellipsis">
      Starting SMRT Link automatically on server boot
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#user-management" class="md-nav__link">
    <span class="md-ellipsis">
      User management
    </span>
  </a>
  
    <nav class="md-nav" aria-label="User management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#smrt-link-user-roles" class="md-nav__link">
    <span class="md-ellipsis">
      SMRT Link user roles
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enabling-the-keycloak-admin-interface" class="md-nav__link">
    <span class="md-ellipsis">
      Enabling the Keycloak admin interface
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-default-passwords" class="md-nav__link">
    <span class="md-ellipsis">
      Changing default passwords
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ldap-integration" class="md-nav__link">
    <span class="md-ellipsis">
      LDAP integration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-local-users" class="md-nav__link">
    <span class="md-ellipsis">
      Adding local users
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ssltls" class="md-nav__link">
    <span class="md-ellipsis">
      SSL/TLS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      API documentation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lims-integration" class="md-nav__link">
    <span class="md-ellipsis">
      LIMS integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-backups" class="md-nav__link">
    <span class="md-ellipsis">
      Database backups
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sending-log-files-to-pacbio-technical-support" class="md-nav__link">
    <span class="md-ellipsis">
      Sending log files to PacBio Technical Support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-usage-tracking-settings" class="md-nav__link">
    <span class="md-ellipsis">
      Changing usage tracking settings
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-smrt-link-automatically-on-server-boot" class="md-nav__link">
    <span class="md-ellipsis">
      Starting SMRT Link automatically on server boot
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="advanced-topics">Advanced Topics</h1>
<p>This section delves into advanced configurations and optimizations for SMRT Link v25.2, enabling users to tailor the system to specific institutional needs and enhance performance.</p>
<hr />
<h2 id="user-management">User management</h2>
<p>SMRT Link utilizes Keycloak for user authentication and role management. Keycloak supports integration with LDAP for user login authentication, as well as using local Keycloak users that exist only within SMRT Link.</p>
<h3 id="smrt-link-user-roles">SMRT Link user roles</h3>
<p>SMRT Link supports three user roles: Admin, Lab Tech, and Bioinformatician. Roles define which SMRT Link modules a user can access.</p>
<details class="abstract">
<summary>Details</summary>
<p>The following table lists the privileges associated with the three user roles:</p>
<table>
<thead>
<tr>
<th><strong>Tasks/Privileges</strong></th>
<th style="text-align: center;"><strong>Admin</strong></th>
<th style="text-align: center;"><strong>Lab Tech</strong></th>
<th style="text-align: center;"><strong>Bioinformatician</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Add/delete SMRT Link users</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>Assign roles to SMRT Link users</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>Update SMRT Link software</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>Add/update instruments</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>Access <strong>Instruments</strong> module</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
</tr>
<tr>
<td>Access <strong>Sample Setup</strong> module</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>Access <strong>Runs</strong> module</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">❌</td>
</tr>
<tr>
<td>Access <strong>Data Management</strong> module</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
</tr>
<tr>
<td>Access <strong>SMRT Analysis</strong> module</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
<td style="text-align: center;">✅</td>
</tr>
</tbody>
</table>
<ul>
<li>Assign at least one user per site to the Admin role. That individual is responsible for enabling and disabling SMRT Link users, as well as specifying their roles and adding/removing associated Revio instruments. The Admin can also access all SMRT Link modules, as well as every file in the system. (Note: SMRT Link supports multiple users with the Admin role per site.)</li>
<li>Assign users who work in the lab preparing samples and performing runs the Lab Tech role. Lab Tech can also access all SMRT Link modules.</li>
<li>Assign users who work only on data analysis the Bioinformatician role. Bioinformatician can only access the Instruments, Data Management and SMRT Analysis modules; this is the lowest access level.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Admin role only allows a user account to administer the configuration options available through the SMRT Link browser UI. It does not provide access to the Keycloak management interface, which is intentionally restricted to the built-in admin user only.</p>
</div>
</details>
<h3 id="enabling-the-keycloak-admin-interface">Enabling the Keycloak admin interface</h3>
<p>The Keycloak Admin graphical interface is disabled by default for security reasons. Enable it on port 9443 using <code>--enable-keycloak-console</code>.</p>
<details class="abstract">
<summary>Details</summary>
<ol>
<li>
<p><strong>Enable Keycloak admin interface</strong>:  and make it accessible on port 9443 by either:</p>
<ul>
<li>Restart SMRT Link services with the <code>--enable-keycloak-console</code> flag. 
    <div class="highlight"><pre><span></span><code><span class="nv">$SMRT_ROOT</span>/admin/bin/services-stop
<span class="nv">$SMRT_ROOT</span>/admin/bin/services-start<span class="w"> </span>--enable-keycloak-console
</code></pre></div></li>
<li>Use the <code>restart-gui</code> command to toggle the admin interface while the server is running.
    <div class="highlight"><pre><span></span><code><span class="nv">$SMRT_ROOT</span>/admin/bin/restart-gui<span class="w"> </span>--enable-keycloak-console
<span class="nv">$SMRT_ROOT</span>/admin/bin/restart-gui<span class="w"> </span>--disable-keycloak-console
</code></pre></div></li>
</ul>
</li>
<li>
<p><strong>Access the Keycloak Admin Interface</strong>: Open a web browser and navigate to
<div class="highlight"><pre><span></span><code>https://&lt;SMRT_Link_Server_Hostname&gt;:9443/auth/admin
</code></pre></div></p>
</li>
<li>
<p><strong>Log In</strong>:</p>
</li>
</ol>
<p>Use the administrator credentials (default: <code>admin/admin</code>) to log in.</p>
<ol>
<li><strong>Perform Administrative Tasks</strong>:</li>
</ol>
<p>Manage users, roles, and authentication settings as required.</p>
<ol>
<li><strong>Disable the Keycloak Admin Interface</strong>:</li>
</ol>
<p>For security purposes, disable the interface when not in use by restarting SMRT Link services without the <code>--enable-keycloak-console</code> flag:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$SMRT_ROOT</span>/admin/bin/services-start
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Ensure that access to port 9443 is restricted to authorized personnel only.</p>
</div>
</details>
<h3 id="changing-default-passwords">Changing default passwords</h3>
<p>It is recommended to change the default <code>admin</code> and <code>pbinstrument</code> passwords for enhanced security.</p>
<details class="abstract">
<summary>Details</summary>
<p>The SMRT Link <code>admin</code> account has full access to SMRT Link, and is used to create users and grant users access. SMRT Link comes with a default Instrument Control Software (ICS) user account (<code>pbinstrument</code>) which is used by the instruments to communicate with SMRT Link web services over a secure, encrypted connection. </p>
<p>The <code>pbinstrument</code> account is required for instruments to communicate with SMRT Link (Note: the <code>pbinstrument</code> credentials can only be used to access SMRT Link resources – it is not an LDAP account or a local account on the Linux system).</p>
<p>The passwords for the <code>admin</code> and <code>pbinstrument</code> accounts are set to default values that are the same for all SMRT Link installations. Because the passwords can be used to access SMRT Link accounts and information, the passwords <strong>should be changed</strong> and only given to trusted users who require access.</p>
<p>To change the <code>admin</code> and <code>pbinstrument</code> passwords, you can either use the Keycloak Admin interface or the command line tools provided with SMRT Link.</p>
<ol>
<li>
<p><strong>Keycloak Admin Interface</strong>: See <a href="#adding-local-users">Adding Local Users</a> for instructions on changing passwords using Keycloak.</p>
</li>
<li>
<p><strong>SMRT Link Command Line Tools</strong>:</p>
</li>
</ol>
<p>To change the built-in account passwords for the new API gateway, use the following procedure while the server is running:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/set-keycloak-creds --user admin --password ‘NEW-PASSWORD’ --admin --password ‘CURRENT-PASSWORD’
</code></pre></div>
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/smrtcmds/developer/bin/pbservice-instrument set-smrtlink-password --user admin --ask-pass
</code></pre></div></p>
<p>To verify the <code>admin</code> and <code>pbinstrument</code> passwords, use the following procedure:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/smrtcmds/bin/pbservice status --host localhost --user admin --ask-pass
</code></pre></div>
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/smrtcmds/bin/pbservice status --host localhost --user pbinstrument --ask-pass
</code></pre></div>
The <code>pbservice status</code> information should display, before exiting with an exit status of <code>0</code> indicating success.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Keycloak Admin interface on HTTPS port <code>9443</code> is enabled, you can use it to change the <code>admin</code> password.</p>
</div>
</details>
<h3 id="ldap-integration">LDAP integration</h3>
<p>If you are interested in configuring SMRT Link integration with your organization’s LDAP, PacBio recommends that you consult your LDAP administrator to help determine the correct LDAP settings. </p>
<details class="abstract">
<summary>Details</summary>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Existing LDAP configurations are automatically migrated during upgrade.</p>
</div>
<p><strong>Configuring LDAP in Keycloak</strong>
- LDAP is configured after SMRT Link is installed, using the Keycloak authentication server software, as
shown below.
- SMRT Link must first synchronize with your organization's LDAP objects before any directory accounts can be enabled and given a role to facilitate SMRT Link access.</p>
<ol>
<li>Enter the following in your browser: <code>https://&lt;hostname&gt;:9443/auth/admin/</code> – where &lt;<code>hostname</code>&gt; is the host where SMRT Link is installed (<a href="#enabling-the-keycloak-admin-interface">the Keycloak console must be enabled</a>).</li>
<li>Login using <code>admin</code>/<code>admin</code> (unless you have changed the password).<ul>
<li><img alt="" src="../img/ldap_1.png" /></li>
</ul>
</li>
<li>Under <strong>Configure</strong> on the left-hand side of the window, click <strong>User Federation</strong><ul>
<li><img alt="" src="../img/ldap_2.png" /></li>
</ul>
</li>
<li>On the right-hand side of the window, click <strong>Add provider…</strong> and select the <strong>ldap</strong> option.</li>
<li>Enter the required fields (and any others necessary for your LDAP server) and verify that you can connect to the server using the <strong>Test connection</strong> and <strong>Test authentication</strong> buttons.<ul>
<li><img alt="" src="../img/ldap_3.png" /></li>
<li>The following fields are required (Note: Values provided in the example above are listed below for clarity. Actual values should be provided by your LDAP administrator):<ul>
<li>Username LDAP attribute: <code>uid</code> (if you are using Active Directory, the most likely value is <code>sAMAccountName</code>)</li>
<li>RDN LDAP attribute: <code>uid</code> (usually the same as the Username LDAP Attribute)</li>
<li>UUID LDAP attribute: <code>entryUUID</code></li>
<li>User Object Classes: <code>person, organizationalPerson, user</code></li>
<li>Connection URL: <code>ldap://ldap.university:389</code></li>
<li>Users DN: <code>CN=users,DC=university,DC=edu</code></li>
<li>(Optional) Custom User LDAP Filter: (<code>objectClass=person</code>)</li>
</ul>
</li>
<li>If Bind Type is simple, you also need to enter credentials for accessing the directory:<ul>
<li>Bind DN: <code>CN=ldapadmin,CN=users,DC=university,DC=edu</code> (This is the user account that is used to authenticate to the LDAP environment.)</li>
<li>Bind Credential: &lt;<code>password</code>&gt;</li>
</ul>
</li>
</ul>
</li>
<li>When you are finished click Save.</li>
<li>After you save the LDAP configuration, additional buttons display at the bottom of the window. Clicking <strong>Synchronize all users</strong> imports all users to the Keycloak database without assigning them SMRT Link roles.<ul>
<li><img alt="" src="../img/ldap_4.png" /></li>
</ul>
</li>
<li>Enable SMRT Link users individually as described in the next section<ul>
<li><strong>Procedure</strong>:<ul>
<li>Access the Keycloak Admin interface.</li>
<li>Navigate to the "User Federation" section.</li>
<li>Add your LDAP/AD server details.</li>
<li>Configure synchronization settings.</li>
</ul>
</li>
</ul>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information on LDAP, consult the following web pages:
- https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol
- https://en.wikipedia.org/wiki/LDAP_Data_Interchange_Format
- https://msdn.microsoft.com/en-us/library/ms677605%28v=vs.85%29.aspx</p>
</div>
<p>Problems with the LDAP server may be debugged by looking at the log file located here:  </p>
<pre><code>```bash
$SMRT_ROOT/userdata/log/smrtlink-analysisservices-gui/keycloak.stdout
```
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If LDAPS needs to be used, the appropriate SSL certificate needs to be installed in a format understood by Keycloak. Use <code>keytool</code> to add the LDAPS X.509-formatted public certificate to a JKS file named <code>keycloak-truststore.jks</code>, set the passphrase to <code>password1</code>, and enter <code>yes</code> to force trust when prompted.</p>
</div>
<p>To install the keystore, simply copy it to this location:
    <div class="highlight"><pre><span></span><code>$SMRT_ROOT/userdata/config/security/keycloak-truststore.jks
</code></pre></div></p>
<p>Start the SMRT Link services, and in step 5 of the LDAP Integration instructions above, change the Connection
    URL to use an <code>ldaps:// URI</code> format, and, if necessary, adjust the port number. (Note: By default, LDAP uses TCP port <code>389</code> and LDAPS uses TCP port <code>636</code>)</p>
<p><br></p>
<p><strong>Adding SMRT Link users via LDAP integration and assigning user roles</strong></p>
<ul>
<li>To enable users via LDAP integration, you must first configure LDAP before you can manage users and assign SMRT Link roles to users (see above). </li>
<li>
<p>After LDAP is configured, if you do not assign a SMRT Link role to a user, that user will not be able to login to SMRT Link.</p>
</li>
<li>
<p>Access <strong>SMRT Link</strong>: Enter <code>https://&lt;hostname&gt;:8243/sl/home</code>, where &lt;<code>hostname</code>&gt; is the host where SMRT Link is installed.</p>
</li>
<li>Choose <strong>Settings &gt; User Management</strong> at the top of the page.</li>
<li>There are two ways to find users:<ul>
<li>To display all SMRT Link users: Click <strong>Display all Enabled Users</strong>.</li>
<li>To find a specific user: Enter a user name, or partial name and click <strong>Search By Name</strong></li>
<li><img alt="" src="../img/ldap_5.png" /></li>
</ul>
</li>
<li>Click the desired user. If the Status is <strong>Enabled</strong>, the user has access to SMRT Link; <strong>Disabled</strong> means the user <strong>cannot</strong> access SMRT Link.<ul>
<li>To <strong>add</strong> a SMRT Link user: Click the <strong>Enabled</strong> button, then assign a role. (See Step 5.)</li>
<li>To <strong>disable</strong> a SMRT Link user: Click the <strong>Disabled</strong> button.</li>
</ul>
</li>
<li>Click the <strong>Role</strong> field and select one of the <a href="#smrt-link-user-roles">three roles</a>. (A blank role means that this user cannot access SMRT Link.)</li>
<li>Click <strong>Save Changes</strong>. The user now has access to SMRT Link, based on the role just assigned.<ul>
<li><img alt="" src="../img/ldap_6.png" /></li>
</ul>
</li>
</ul>
</details>
<h3 id="adding-local-users">Adding local users</h3>
<p>SMRT Link is designed to integrate with an LDAP server to provide user account information, but it is also possible to add local user accounts using the Keycloak server that handles authentication for the API gateway.</p>
<details class="abstract">
<summary>Details</summary>
<p><strong>To add a local account:</strong></p>
<ol>
<li>Access the Keycloak Admin interface at <code>https://&lt;servername&gt;:9443/auth/admin</code> and log in with
the SMRT Link built-in <code>admin</code> account credentials (<code>admin</code>/<code>admin</code> by default.)</li>
<li>On the left-hand menu, under <strong>Manage</strong>, click <strong>Users</strong>.</li>
<li>Click the <strong>Add user</strong> button on the right-hand side of the screen.<ul>
<li><img alt="" src="../img/local_users_1.png" /></li>
</ul>
</li>
<li>Complete the form and click <strong>Save</strong>.<ul>
<li><img alt="" src="../img/local_users_2.png" /></li>
</ul>
</li>
<li>In the newly added user page, click <strong>Credentials</strong>, and enter a password for the user. If you are issuing a temporary password that the user needs to change on first login, make sure the <strong>Temporary</strong> toggle is <strong>ON</strong>. The section below covers password changes.<ul>
<li><img alt="" src="../img/local_users_3.png" /></li>
</ul>
</li>
</ol>
<p><strong>To change a temporary password</strong>:</p>
<ol>
<li>When a new local user attempts to log in to SMRT Link with a temporary password, the login will fail with the message “Account is not fully set up”, and a button displays to open the Keycloak user console.<ul>
<li><img alt="" src="../img/local_users_4.png" /></li>
</ul>
</li>
<li>Log in to Keycloak with the same credentials. The Keycloak Admin interface will prompt the user to enter a new password.<ul>
<li><img alt="" src="../img/local_users_5.png" /></li>
</ul>
</li>
<li>Once the password has been changed, return to the SMRT Link login screen and enter the new password.</li>
<li>Local users may change their passwords again by navigating directly to the Keycloak user account page at <code>https://&lt;hostname&gt;:9443/auth/realms/SMRTLink/account/#/</code><ul>
<li><img alt="" src="../img/local_users_6.png" /></li>
</ul>
</li>
</ol>
</details>
<h2 id="ssltls">SSL/TLS</h2>
<p>SMRT Link uses SSL (Secure Sockets Layer) to enable access via HTTPS (HTTP over SSL), so that your SMRT Link logins and data are encrypted during transport to and from SMRT Link. SMRT Link includes an authentication server (Keycloak), which can be configured to integrate with your LDAP/AD servers and enable user authentication using your organizations’ user name and password. To ensure a secure connection between the SMRT Link server and your browser, a domain-specific SSL certificate may be installed after completing SMRT Link installation.</p>
<details class="abstract">
<summary>Details</summary>
<p>It is important to note that PacBio will not provide a CA-signed SSL certificate. However, once your site has obtained a CA-signed SSL certificate, PacBio’s tools can be used to install it for use with SMRT Link web services. (Note: PacBio recommends that you consult your IT administrator about obtaining an SSL certificate.) You will need a certificate issued by a certificate authority (CA). PacBio has tested SMRT Link with certificates from the following certificate vendors: VeriSign, Thawte and DigiCert.</p>
<p>If your site does not provide an SSL certificate, SMRT Link will use a PacBio self-signed SSL certificate. If you use the self-signed SSL certificate, each user will need to accept the browser warnings related to access in an insecure environment. You can also have your IT administrator configure desktops to always trust the provided self-signed certificate. Note that SMRT Link is installed within your organization’s secure network, behind your organization’s firewall.</p>
<p>See “Using SMRT Link with a PacBio self-signed SSL certificate” for details on how to handle the security warnings when accessing SMRT Link.</p>
<p>Use the following procedures only if your site provides an SSL certificate. These procedures are not applicable if you are using PacBio’s self-signed SSL certificate.</p>
<p><strong>Installing an SSL certificate for NGINX</strong></p>
<p>In the new API gateway, SSL transport is handled by the NGINX web server, which uses a simpler configuration consisting of a plain-text certificate and private key. By default, SMRT Link will generate a selfsigned certificate and key the first time you start the new API gateway:</p>
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/userdata/config/security/pb-smrtlink-default.crt
$SMRT_ROOT/userdata/config/security/pb-smrtlink-default.key
</code></pre></div>
<p><strong>To install a custom certificate for NGINX</strong></p>
<ol>
<li>Stop SMRT Link services:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/services-stop
</code></pre></div></li>
<li>Copy the certificate and private key files to these paths:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/userdata/config/security/smrtlink-site.crt
$SMRT_ROOT/userdata/config/security/smrtlink-site.key
</code></pre></div></li>
<li>Start SMRT Link services:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/services-start
</code></pre></div></li>
</ol>
<p><strong>Restoring the default self-signed SSL certificate</strong></p>
<p>It may sometimes be necessary to uninstall the user-provided SSL certificate and restore the default certificate. This requires the following steps.
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/services-stop
#remove or rename site certificates
$SMRT_ROOT/admin/bin/services-start
</code></pre></div></p>
<p><strong>Using SMRT Link with a PacBio self-signed SSL certificate</strong></p>
<p>SMRT Link uses self-signed SSL certificate generated by the installer. If your site does not have a signed SSL certificate and you use the self-signed SSL certificate, each user will need to accept the browser warnings related to access in an insecure environment. You can also have your IT administrator configure desktops to always trust the provided self-signed certificate. Note that SMRT Link should be installed within your organization’s secure network, behind your organization’s firewall.
Security messages display when users try to login to SMRT Link for the first time using the Chrome browser. These messages may also display other times when accessing SMRT Link. Each SMRT Link user in your organization should address these browser warnings following the procedure below.</p>
<ol>
<li>The first time you start SMRT Link after installation, you see the following text. Click the <strong>Advanced</strong> link.<ul>
<li><img alt="" src="../img/ssl_1.png" /></li>
</ul>
</li>
<li>Click the <strong>Proceed</strong>... link. (You may need to scroll down.)<ul>
<li><img alt="" src="../img/ssl_2.png" /></li>
</ul>
</li>
<li>Close the window by clicking the <strong>Close</strong> box in the corner.</li>
<li>The <strong>Login</strong> dialog displays, where you enter the User Name and Password. The next time you access SMRT Link, the Login dialog displays <strong>directly</strong>.</li>
</ol>
</details>
<h2 id="api-documentation">API documentation</h2>
<details class="abstract">
<summary>Details</summary>
<p>Detailed API documentation is available at on SMRT Link's Swagger UI, which provides an interactive interface for exploring and testing the API endpoints:</p>
<div class="highlight"><pre><span></span><code>https://&lt;SMRT_Link_Server_Hostname&gt;:8243/sl/docs/services/#/default
</code></pre></div>
<p><strong>Authentication</strong>:</p>
<p>API access requires authentication tokens obtained via the Keycloak authentication service.</p>
<p><strong>Integration Steps</strong>:</p>
<ol>
<li><strong>Obtain API Credentials</strong>:</li>
</ol>
<p>Create a client in Keycloak for API access and obtain client credentials.</p>
<ol>
<li><strong>Authenticate</strong>:</li>
</ol>
<p>Use the client credentials to obtain an access token:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;https://&lt;SMRT_Link_Server_Hostname&gt;:8243/auth/realms/SMRTLink/protocol/openid-connect/token&quot;</span><span class="w">    </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span><span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;grant_type=client_credentials&amp;client_id=&lt;client_id&gt;&amp;client_secret=&lt;client_secret&gt;&quot;</span>
</code></pre></div>
<ol>
<li><strong>Access API Endpoints</strong>:</li>
</ol>
<p>Include the access token in the <code>Authorization</code> header for API requests:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;https://&lt;SMRT_Link_Server_Hostname&gt;:8243/runs&quot;</span><span class="w">    </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer &lt;access_token&gt;&quot;</span>
</code></pre></div>
</details>
<h2 id="lims-integration">LIMS integration</h2>
<details class="abstract">
<summary>Details</summary>
<p>Integrating SMRT Link with a Laboratory Information Management Systems (LIMS) streamlines data management and enhances laboratory workflows.</p>
<p><strong>SMRT Link API</strong></p>
<p>SMRT Link provides a RESTful API for integration with external systems.</p>
<p><strong>Key Endpoints</strong>:</p>
<ul>
<li><strong>Run Management</strong>:</li>
</ul>
<p>Create, monitor, and manage sequencing runs.</p>
<ul>
<li><strong>Sample Management</strong>:</li>
</ul>
<p>Add, update, and retrieve sample information.</p>
<ul>
<li><strong>Analysis Management</strong>:</li>
</ul>
<p>Initiate and monitor secondary analyses.</p>
</details>
<h2 id="database-backups">Database backups</h2>
<p>SMRT Link does not perform periodic database backups. It is recommended to schedule regular backups of the SMRT Link database to minimize risks of losing records. However, note that the underlying sequencing or analysis files, such as BAM files, are not affected.</p>
<details class="abstract">
<summary>Details</summary>
<p>A database backup is still automatically performed once, during installation or upgrade. Failure to back up the SMRT Link database on a regular schedule risks losing all records in SMRT Link (including users, Data Sets, analyses, barcodes, and references) if a file system or reconfiguration error occurs. </p>
<p>We strongly recommend asking your local Linux system administrator to schedule regular weekly backups of the SMRT Link database using standard Linux utilities. A utility script to generate an appropriate cron server command was added at <code>$SMRT_ROOT/admin/bin/generate-cron-backup</code>. </p>
<p>This script runs the <code>$SMRT_ROOT/admin/bin/dbhelper --backup</code> command to backup the SMRT Link database at 2AM every night. </p>
<p>For additional details, please contact PacBio Technical Support.</p>
</details>
<h2 id="sending-log-files-to-pacbio-technical-support">Sending log files to PacBio Technical Support</h2>
<p>Troubleshooting information can be sent to PacBio Technical Support multiple ways. </p>
<details class="abstract">
<summary>Details</summary>
<p>If there is a connection to the <a href="../system-requirements/#smrt-link-related-ports">PacBio Event Server</a>, do the following:</p>
<ul>
<li>From the SMRT Link menu: Settings &gt; About &gt; Troubleshooting Information &gt; Send.</li>
<li>From a SMRT Link “Failed” analysis results page: Click <strong>Send Log Files</strong>.</li>
</ul>
<p>If there is connectivity to the PacBio Event Server, run the following command to generate the information and automatically send it to PacBio Technical Support:</p>
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/tsreport-install --bundle --upload
</code></pre></div>
<p>If there is no connectivity to the PacBio Event Server, run the following command to generate a .tgz file and email the file to <code>support@pacb.com</code> to file a case:</p>
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/tsreport-install --bundle
</code></pre></div>
<p>The generated file can be found here: <code>$SMRT_ROOT/userdata/tsreport/data/ts-install.tgz</code>.</p>
<p>Note: The SMRT Link logs archive bundle will be limited to logs from approximately the past 24 hours. Ensure
the above tsreport-install options and SMRT Link menu's Send button are run within one day of
experiencing the issue being addressed.</p>
</details>
<h2 id="changing-usage-tracking-settings">Changing usage tracking settings</h2>
<p>When first logging in to the SMRT Link GUI after a successful installation or upgrade, users are prompted to notify PacBio of the upgrade/installation success and whether they wish to share SMRT Link analysis usage information with PacBio. We recommend accepting these conditions to better enable remote troubleshooting by PacBio support personnel. </p>
<p>Once set, these settings may only be viewed and modified from the command line using the <code>accept-user-agreement</code> tool.</p>
<details class="abstract">
<summary>Details</summary>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To use the accept-user-agreement tool, services must be running:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/services-start
</code></pre></div></p>
</div>
<p>To set new settings, use the following command, specifying true or false for the options accordingly. For example:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/accept-user-agreement --install-metrics true --job-metrics true
</code></pre></div></p>
<p>PacBio is notified of a successful installation or upgrade <strong>immediately</strong> if the install metrics setting is true. To view the current settings, run the command without any arguments:
<div class="highlight"><pre><span></span><code>$SMRT_ROOT/admin/bin/accept-user-agreement
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If accept-user-agreement is run without arguments and the settings have not been previously set (either in the GUI or on the command line), both the install and job metrics settings will automatically be set to true and PacBio will be immediately notified of the installation or upgrade.</p>
</div>
</details>
<h2 id="starting-smrt-link-automatically-on-server-boot">Starting SMRT Link automatically on server boot</h2>
<p>To start SMRT Link automatically when the server boots using systemd, refer to the template service file. </p>
<details class="abstract">
<summary>Details</summary>
<p>File located here:</p>
<div class="highlight"><pre><span></span><code><span class="nv">$SMRT_ROOT</span>/admin/template/smrtlink.service.tmpl
</code></pre></div>
<p>Follow the instructions in the template comments to make site-specific modifications and install as a system service unit.</p>
</details>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../instrument-connection/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Instrument Connection">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Instrument Connection
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2025 PacBio. All rights reserved. Research use only. Not for use in diagnostic procedures. <a href="https://www.pacb.com/legal-and-trademarks/privacy-policy/" target="_blank">Privacy policy</a>  |  <a href="https://www.pacb.com/legal-and-trademarks/" target="_blank">Legal + trademarks</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["version-dropdown", "navigation.footer", "content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>