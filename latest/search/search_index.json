{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>     Welcome to the beta release of PacBio\u2019s new SMRT Link documentation site. In a future release, the PDF guides will be retired and replaced by this online resource. We value your feedback, please email  your comments and suggestions to     pacbiosoftwaredocs@pacb.com.</p> <p>This site describes the procedure for installing SMRT Link v25.3 or SMRT Link Lite v25.3. This site is for IT or SMRT Link administrators.</p> <p>Note</p> <p>SMRT Link v25.3 and SMRT Link Lite v25.3 support Vega\u2122 and Revio\u00ae systems. Sequel\u00ae II systems, Sequel\u00ae IIe systems, and Sequel\u00ae systems are not supported.</p>"},{"location":"#what-is-smrt-link","title":"What is SMRT Link?","text":"<p>SMRT Link is a web-based end-to-end workflow manager. </p> <p>SMRT Link is free PacBio-provided software required for instrument management, sequencing run setup/monitoring, and viewing performance metrics. SMRT Link can also optionally be configured to run select analysis workflows \u2013 depending on compute resources available \u2013 by interfacing with existing job management systems (e.g., SLURM).</p> <p>SMRT Link software operates as a web service hosted on a dedicated Linux server, a virtual machine (VM), or by PacBio in the cloud. After installation, users interact with PacBio instruments and analysis workflows through a graphical user interface (GUI). The service is network-accessible, meaning you can connect to it from any computer with a supported web browser on the same network.</p> <p></p> <p>Visit System Requirements for more information on the prerequisites for installing SMRT Link including hardware (e.g., CPU, RAM, disk space), software (e.g., operating system), and network configurations.</p>"},{"location":"#smrt-link-modules","title":"SMRT Link modules","text":""},{"location":"#smrt-link-options","title":"SMRT Link options","text":"<p>SMRT Link is available for both local installation and cloud access, offering flexibility to work in different environments depending on your lab's needs. This guide covers the installation of SMRT Link and SMRT Link Lite, but noting that PacBio also offers a cloud-based solution for SMRT Link.</p> <ul> <li>SMRT Link: A fully-featured on-prem solution<ul> <li>Provides all the features of SMRT Link including push-button secondary analysis capabilities (SMRT Analysis)</li> </ul> </li> <li>SMRT Link Lite: An is an on-prem solution with minimal hardware requirements<ul> <li>Ideal if there are network restrictions preventing cloud use</li> <li>No push-button secondary analysis</li> </ul> </li> <li>SMRT Link Cloud: A fully managed cloud solution<ul> <li>Provided and hosted by PacBio (free)</li> <li>Enables quick setup for running the instrument</li> <li>No push-button secondary analysis</li> </ul> </li> <li>SMRT Tools: SMRT Tools are the command-line tools included with SMRT Link. These are developer tools for use by bioinformaticians working with secondary analysis results.</li> </ul> SMRT Link features SMRT Link SMRT Link Lite SMRT Link Cloud Supported instruments\u00b9 Revio, Vega, and Sequel IIe Revio, Vega, and Sequel IIe Revio and Vega Instrument monitoring \u2705 \u2705 \u2705 Sample setup \u2705 \u2705 \u2705 Run design \u2705 \u2705 \u2705 Run monitoring/QC \u2705 \u2705 \u2705 Push-button secondary analysis (SMRT\u00ae Analysis) \u2705 \u274c \u274c 3rd party and PacBio Compatible Partners analysis \u2705 \u2705 \u2705 API access \u2705 \u2705 \u2705 <p>For more information, check out the SMRT Link Application Brief.</p>"},{"location":"#latest-version","title":"Latest version","text":"<p>Version 25.3: Release Notes</p> <p>The latest version of SMRT Link can be downloaded from PacBio's Software Downloads page.</p> <pre><code>curl -O https://downloads.pacbcloud.com/public/software/installers/smrtlink-release_25.3.0.273777.zip\n</code></pre>"},{"location":"#whats-new","title":"What's new","text":"<p>Below are a few high-level updates to version 25.3. For the full set of updates, please see the release notes:</p> <ul> <li>Run design and analysis support for the PureTarget carrier screening panel and extended repeat expansion panel</li> <li>Single Sign-On (SSO) support for on-premises installations</li> </ul>"},{"location":"#getting-started","title":"Getting started","text":"<p>Visit Quick Start Guide or check out our SMRT Link Install tutorial video!</p>"},{"location":"advanced-topics/","title":"Advanced Topics","text":"<p>This section delves into advanced configurations and optimizations for SMRT Link v25.3, enabling users to tailor the system to specific institutional needs and enhance performance.</p>"},{"location":"advanced-topics/#user-management","title":"User management","text":"<p>SMRT Link utilizes Keycloak for user authentication and role management. Keycloak supports integration with LDAP for user login authentication, as well as using local Keycloak users that exist only within SMRT Link.</p>"},{"location":"advanced-topics/#smrt-link-user-roles","title":"SMRT Link user roles","text":"<p>SMRT Link supports three user roles: Admin, Lab Tech, and Bioinformatician. Roles define which SMRT Link modules a user can access.</p> Details <p>The following table lists the privileges associated with the three user roles:</p> Tasks/Privileges Admin Lab Tech Bioinformatician Add/delete SMRT Link users \u2705 \u274c \u274c Assign roles to SMRT Link users \u2705 \u274c \u274c Update SMRT Link software \u2705 \u274c \u274c Add/update instruments \u2705 \u274c \u274c Access Instruments module \u2705 \u2705 \u2705 Access Sample Setup module \u2705 \u2705 \u274c Access Runs module \u2705 \u2705 \u274c Access Data Management module \u2705 \u2705 \u2705 Access SMRT Analysis module \u2705 \u2705 \u2705 <ul> <li>Assign at least one user per site to the Admin role. That individual is responsible for enabling and disabling SMRT Link users, as well as specifying their roles and adding/removing associated Revio instruments. The Admin can also access all SMRT Link modules, as well as every file in the system. (Note: SMRT Link supports multiple users with the Admin role per site.)</li> <li>Assign users who work in the lab preparing samples and performing runs the Lab Tech role. Lab Tech can also access all SMRT Link modules.</li> <li>Assign users who work only on data analysis the Bioinformatician role. Bioinformatician can only access the Instruments, Data Management and SMRT Analysis modules; this is the lowest access level.</li> </ul> <p>Note</p> <p>The Admin role only allows a user account to administer the configuration options available through the SMRT Link browser UI. It does not provide access to the Keycloak management interface, which is intentionally restricted to the built-in admin user only.</p>"},{"location":"advanced-topics/#enabling-the-keycloak-admin-interface","title":"Enabling the Keycloak admin interface","text":"<p>The Keycloak Admin graphical interface is disabled by default for security reasons. Enable it on port 9443 using <code>--enable-keycloak-console</code>.</p> Details <ol> <li>Enable Keycloak admin interface:  and make it accessible on port 9443 by either:<ul> <li>Restart SMRT Link services with the <code>--enable-keycloak-console</code> flag.      <pre><code>$SMRT_ROOT/admin/bin/services-stop\n$SMRT_ROOT/admin/bin/services-start --enable-keycloak-console\n</code></pre></li> <li>Use the <code>restart-gui</code> command to toggle the admin interface while the server is running.     <pre><code>$SMRT_ROOT/admin/bin/restart-gui --enable-keycloak-console\n$SMRT_ROOT/admin/bin/restart-gui --disable-keycloak-console\n</code></pre></li> </ul> </li> <li> <p>Access the Keycloak Admin Interface: Open a web browser and navigate to <pre><code>https://&lt;SMRT_Link_Server_Hostname&gt;:9443/admin\n</code></pre></p> </li> <li> <p>Log In:</p> </li> </ol> <p>Use the administrator credentials (default: <code>admin/admin</code>) to log in.</p> <ol> <li>Perform Administrative Tasks:</li> </ol> <p>Manage users, roles, and authentication settings as required.</p> <ol> <li>Disable the Keycloak Admin Interface:</li> </ol> <p>For security purposes, disable the interface when not in use by restarting SMRT Link services without the <code>--enable-keycloak-console</code> flag:</p> <pre><code>$SMRT_ROOT/admin/bin/services-start\n</code></pre> <p>Note</p> <p>Ensure that access to port 9443 is restricted to authorized personnel only.</p>"},{"location":"advanced-topics/#changing-default-passwords","title":"Changing default passwords","text":"<p>It is recommended to change the default <code>admin</code> and <code>pbinstrument</code> passwords for enhanced security.</p> Details <p>The SMRT Link <code>admin</code> account has full access to SMRT Link, and is used to create users and grant users access. SMRT Link comes with a default Instrument Control Software (ICS) user account (<code>pbinstrument</code>) which is used by the instruments to communicate with SMRT Link web services over a secure, encrypted connection. </p> <p>The <code>pbinstrument</code> account is required for instruments to communicate with SMRT Link (Note: the <code>pbinstrument</code> credentials can only be used to access SMRT Link resources \u2013 it is not an LDAP account or a local account on the Linux system).</p> <p>The passwords for the <code>admin</code> and <code>pbinstrument</code> accounts are set to default values that are the same for all SMRT Link installations. Because the passwords can be used to access SMRT Link accounts and information, the passwords should be changed and only given to trusted users who require access.</p> <p>To change the <code>admin</code> and <code>pbinstrument</code> passwords, you can either use the Keycloak Admin interface or the command line tools provided with SMRT Link.</p> <ol> <li> <p>Keycloak Admin Interface: See Adding Local Users for instructions on changing passwords using Keycloak.</p> </li> <li> <p>SMRT Link Command Line Tools:</p> </li> </ol> <p>To change the built-in account passwords for the new API gateway, use the following procedure while the server is running: <pre><code>$SMRT_ROOT/admin/bin/set-keycloak-creds --user admin --password \u2018NEW-PASSWORD\u2019 --admin --password \u2018CURRENT-PASSWORD\u2019\n</code></pre> <pre><code>$SMRT_ROOT/smrtcmds/developer/bin/pbservice-instrument set-smrtlink-password --user admin --ask-pass\n</code></pre></p> <p>To verify the <code>admin</code> and <code>pbinstrument</code> passwords, use the following procedure: <pre><code>$SMRT_ROOT/smrtcmds/bin/pbservice status --host localhost --user admin --ask-pass\n</code></pre> <pre><code>$SMRT_ROOT/smrtcmds/bin/pbservice status --host localhost --user pbinstrument --ask-pass\n</code></pre> The <code>pbservice status</code> information should display, before exiting with an exit status of <code>0</code> indicating success.</p> <p>Note</p> <p>If the Keycloak Admin interface on HTTPS port <code>9443</code> is enabled, you can use it to change the <code>admin</code> password.</p>"},{"location":"advanced-topics/#ldap-integration","title":"LDAP integration","text":"<p>If you are interested in configuring SMRT Link integration with your organization\u2019s LDAP, PacBio recommends that you consult your LDAP administrator to help determine the correct LDAP settings. </p> Details <p>Note</p> <p>Existing LDAP configurations are automatically migrated during upgrade.</p> <p>Configuring LDAP in Keycloak - LDAP is configured after SMRT Link is installed, using the Keycloak authentication server software, as shown below. - SMRT Link must first synchronize with your organization's LDAP objects before any directory accounts can be enabled and given a role to facilitate SMRT Link access.</p> <ol> <li>Enter the following in your browser: <code>https://&lt;hostname&gt;:9443/admin/</code> \u2013 where &lt;<code>hostname</code>&gt; is the host where SMRT Link is installed (the Keycloak console must be enabled).</li> <li>Login using <code>admin</code>/<code>admin</code> (unless you have changed the password).<ul> <li></li> </ul> </li> <li>Under Configure on the left-hand side of the window, click User Federation<ul> <li></li> </ul> </li> <li>On the right-hand side of the window, click Add provider\u2026 and select the ldap option.</li> <li>Enter the required fields (and any others necessary for your LDAP server) and verify that you can connect to the server using the Test connection and Test authentication buttons.<ul> <li></li> <li>The following fields are required (Note: Values provided in the example above are listed below for clarity. Actual values should be provided by your LDAP administrator):<ul> <li>Username LDAP attribute: <code>uid</code> (if you are using Active Directory, the most likely value is <code>sAMAccountName</code>)</li> <li>RDN LDAP attribute: <code>uid</code> (usually the same as the Username LDAP Attribute)</li> <li>UUID LDAP attribute: <code>entryUUID</code></li> <li>User Object Classes: <code>person, organizationalPerson, user</code></li> <li>Connection URL: <code>ldap://ldap.university:389</code></li> <li>Users DN: <code>CN=users,DC=university,DC=edu</code></li> <li>(Optional) Custom User LDAP Filter: (<code>objectClass=person</code>)</li> </ul> </li> <li>If Bind Type is simple, you also need to enter credentials for accessing the directory:<ul> <li>Bind DN: <code>CN=ldapadmin,CN=users,DC=university,DC=edu</code> (This is the user account that is used to authenticate to the LDAP environment.)</li> <li>Bind Credential: &lt;<code>password</code>&gt;</li> </ul> </li> </ul> </li> <li>When you are finished click Save.</li> <li>After you save the LDAP configuration, additional buttons display at the bottom of the window. Clicking Synchronize all users imports all users to the Keycloak database without assigning them SMRT Link roles.<ul> <li></li> </ul> </li> <li>Enable SMRT Link users individually as described in the next section<ul> <li>Procedure:<ul> <li>Access the Keycloak Admin interface.</li> <li>Navigate to the \"User Federation\" section.</li> <li>Add your LDAP/AD server details.</li> <li>Configure synchronization settings.</li> </ul> </li> </ul> </li> </ol> <p>Note</p> <p>For more information on LDAP, consult the following web pages: - https://en.wikipedia.org/wiki/Lightweight_Directory_Access_Protocol - https://en.wikipedia.org/wiki/LDAP_Data_Interchange_Format - https://msdn.microsoft.com/en-us/library/ms677605%28v=vs.85%29.aspx</p> <p>Problems with the LDAP server may be debugged by looking at the log file located here:  </p> <pre><code>```bash\n$SMRT_ROOT/userdata/log/smrtlink-analysisservices-gui/keycloak.stdout\n```\n</code></pre> <p>Note</p> <p>If LDAPS needs to be used, the appropriate SSL certificate needs to be installed in a format understood by Keycloak. Use <code>keytool</code> to add the LDAPS X.509-formatted public certificate to a JKS file named <code>keycloak-truststore.jks</code>, set the passphrase to <code>password1</code>, and enter <code>yes</code> to force trust when prompted.</p> <p>To install the keystore, simply copy it to this location:     <pre><code>$SMRT_ROOT/userdata/config/security/keycloak-truststore.jks\n</code></pre></p> <p>Start the SMRT Link services, and in step 5 of the LDAP Integration instructions above, change the Connection     URL to use an <code>ldaps:// URI</code> format, and, if necessary, adjust the port number. (Note: By default, LDAP uses TCP port <code>389</code> and LDAPS uses TCP port <code>636</code>)</p> <p></p> <p>Adding SMRT Link users via LDAP integration and assigning user roles</p> <ul> <li>To enable users via LDAP integration, you must first configure LDAP before you can manage users and assign SMRT Link roles to users (see above). </li> <li> <p>After LDAP is configured, if you do not assign a SMRT Link role to a user, that user will not be able to login to SMRT Link.</p> </li> <li> <p>Access SMRT Link: Enter <code>https://&lt;hostname&gt;:8243/sl/home</code>, where &lt;<code>hostname</code>&gt; is the host where SMRT Link is installed.</p> </li> <li>Choose Settings &gt; User Management at the top of the page.</li> <li>There are two ways to find users:<ul> <li>To display all SMRT Link users: Click Display all Enabled Users.</li> <li>To find a specific user: Enter a user name, or partial name and click Search By Name</li> <li></li> </ul> </li> <li>Click the desired user. If the Status is Enabled, the user has access to SMRT Link; Disabled means the user cannot access SMRT Link.<ul> <li>To add a SMRT Link user: Click the Enabled button, then assign a role. (See Step 5.)</li> <li>To disable a SMRT Link user: Click the Disabled button.</li> </ul> </li> <li>Click the Role field and select one of the three roles. (A blank role means that this user cannot access SMRT Link.)</li> <li>Click Save Changes. The user now has access to SMRT Link, based on the role just assigned.<ul> <li></li> </ul> </li> </ul>"},{"location":"advanced-topics/#single-sign-on-sso-configuration","title":"Single Sign-On (SSO) configuration","text":"<p>SMRT Link includes built-in support for SSO via SAML 2.0 identity providers (e.g., Okta, Auth0, Keycloak). </p> <p>To configure SSO, the following three steps must be completed sequentially:</p> <ol> <li>Enable SMRT Link to use SSO  </li> <li>Create a SMRT Link SSO application  </li> <li>Configure Keycloak</li> </ol> <p>Prerequisites</p> <ul> <li>A static, fully-qualified DNS name for your SMRT Link server (e.g., <code>smrtlink.university.edu</code>). Referred to as <code>{dnsName}</code> throughout this section.  </li> <li>Ports 8243 and 9443 open to the local network on the SMRT Link server.  </li> <li>An alias for your provider (e.g., <code>okta</code>, <code>auth0</code>). Referred to as <code>{provider}</code> throughout this section.  </li> </ul> 1. Enable SMRT Link to Use SSO <ol> <li>Stop SMRT Link services: <code>$SMRT_ROOT/admin/bin/services-stop</code></li> <li>Configure the SMRT Link software to enable SSO login: <code>$SMRT_ROOT/admin/bin/smrt_reconfig --batch --enable-sso true</code></li> <li>Restart the server with the Keycloak admin console enabled: <code>$SMRT_ROOT/admin/bin/services-start --enable-keycloak-console</code></li> </ol> <p>The following message will be printed in the console: Keycloak admin console is now available and listening on port 9443.</p> <p>To disable SSO: <code>$SMRT_ROOT/admin/bin/smrt_reconfig --batch --enable-sso false</code></p> <p>For security, we recommended disabling the Keycloak console after use.</p> 2. Create a SMRT Link SSO Application <p>The LDAP/SSO IT administrator must create a new SAML 2.0 application for SMRT Link in accordance with your institution\u2019s policies. The SAML configuration should reference the Keycloak endpoint URL on port 9443 and the SMRT Link application URL on port 8243.</p> <p>There are two basic steps to set up SMRT Link SSO in your SSO provider\u2019s portal:</p> <ol> <li>Create a new application in your SSO provider\u2019s portal.  </li> <li>Download the generated configuration metadata XML.  </li> </ol> <p>To configure a new application, you will minimally need: - The SAML endpoint: <code>https://{dnsName}:9443/realms/SMRTLink/broker/{provider}/endpoint</code> - The default application page for SMRT Link: <code>https://{dnsName}:8243/sl/instruments</code></p> <p>Settings and fields may vary based on SSO provider and institutional policy. Following are select settings for Okta and Auth0 SSO providers. Depending on the network or security policies, the application may need to be explicitly enabled per-user.</p> <p>Example settings for Okta</p> <ul> <li>Single Sign On URL: <code>https://{dnsName}:9443/realms/SMRTLink/broker/{provider}/endpoint</code> </li> <li>Recipient URL: <code>https://{dnsName}:9443/realms/SMRTLink/broker/{provider}/endpoint</code> </li> <li>Destination URL: <code>https://{dnsName}:9443/realms/SMRTLink/broker/{provider}/endpoint</code> </li> <li>Audience Restriction: <code>https://{dnsName}:9443/realms/SMRTLink/</code> </li> <li>Default Relay State: <code>https://{dnsName}:8243/sl/instruments</code> </li> </ul> <p>Example settings for Auth0</p> <ul> <li>Allowed Callback URL: <code>https://{dnsName}:9443/realms/SMRTLink/broker/{provider}/endpoint</code></li> <li>Addons: SAML2 <ul> <li>Addons Application Callback URL: <code>https://{dnsName}:9443/realms/SMRTLink/broker/{provider}/endpoint</code></li> <li>Addons SAML2 Settings (copy and edit): <pre><code>{\n  \"audience\": \"https://{dnsName}:9443/realms/SMRTLink/broker/{provider}/endpoint\",\n  \"mappings\": {\n    \"email\": \"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress\",\n    \"given_name\": \"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname\",\n    \"family_name\": \"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname\"\n  },\n  \"nameIdentifierFormat\": \"urn:oasis:names:tc:SAML:2.0:nameid-format:persistent\"\n}\n</code></pre></li> </ul> </li> </ul> 3. Configure Keycloak <p>The last step in setting up SSO for SMRT Link is configuring Keycloak. The bundled Keycloak server in SMRT Link is pre-configured with all settings required for SSO except for the identity provider itself, which is site-specific.</p> <p>Before getting started, ensure:</p> <ul> <li>SSO has been enabled (see Enable SMRT Link to Use SSO).  </li> <li>SAML metadata XML has been obtained (see Create a SMRT Link Application).  </li> </ul> <p>Steps</p> <ol> <li>If not enabled already, enable Keycloak: <code>$SMRT_ROOT/admin/bin/restart-gui --enable-keycloak-console</code></li> <li>Login into the Keycloak Admin console at: <code>https://{dnsName}:9443/admin/</code></li> <li>Click Manage realms on the left-hand menu, then select SMRTLink.  </li> <li>Click Identity providers on the left-hand menu and select SAML 2.0. If you already have a provider configured, the screen may differ.</li> <li>Change the Alias field to the configured value (e.g., <code>okta</code>).Optionally set the Display name (e.g., PacBio Okta).</li> <li>Set Use entity descriptor = Off and upload your metadata XML using Import config from file.</li> <li>Change Want Assertions signed to On. Save.</li> <li>In the updated configuration, set First login flow override = <code>SAML_login_flow</code>. Save again.</li> <li>Go to the Mappers tab, and create a new mapper:<ul> <li>Name: <code>add_role_mapper</code></li> <li>Type: Hardcoded Role</li> <li>Role: <code>PbLabTech</code> (default lab tech role with access to all modules but not admin rights).</li> </ul> </li> <li>Test by navigating to: <code>https://{dnsName}:8243/sl</code>.Confirm the SSO button is available and login is successful.  </li> </ol>"},{"location":"advanced-topics/#adding-local-users","title":"Adding local users","text":"<p>SMRT Link is designed to integrate with an LDAP server to provide user account information, but it is also possible to add local user accounts using the Keycloak server that handles authentication for the API gateway.</p> Details <p>To add a local account:</p> <ol> <li>Access the Keycloak Admin interface at <code>https://&lt;servername&gt;:9443/admin</code> and log in with the SMRT Link built-in <code>admin</code> account credentials (<code>admin</code>/<code>admin</code> by default.)</li> <li>On the left-hand menu, under Manage, click Users.</li> <li>Click the Add user button on the right-hand side of the screen.<ul> <li></li> </ul> </li> <li>Complete the form and click Save.<ul> <li></li> </ul> </li> <li>In the newly added user page, click Credentials, and enter a password for the user. If you are issuing a temporary password that the user needs to change on first login, make sure the Temporary toggle is ON. The section below covers password changes.<ul> <li></li> </ul> </li> </ol> <p>To change a temporary password:</p> <ol> <li>When a new local user attempts to log in to SMRT Link with a temporary password, the login will fail with the message \u201cAccount is not fully set up\u201d, and a button displays to open the Keycloak user console.<ul> <li></li> </ul> </li> <li>Log in to Keycloak with the same credentials. The Keycloak Admin interface will prompt the user to enter a new password.<ul> <li></li> </ul> </li> <li>Once the password has been changed, return to the SMRT Link login screen and enter the new password.</li> <li>Local users may change their passwords again by navigating directly to the Keycloak user account page at <code>https://&lt;hostname&gt;:9443/auth/realms/SMRTLink/account/#/</code><ul> <li></li> </ul> </li> </ol>"},{"location":"advanced-topics/#ssltls","title":"SSL/TLS","text":"<p>SMRT Link uses SSL (Secure Sockets Layer) to enable access via HTTPS (HTTP over SSL), so that your SMRT Link logins and data are encrypted during transport to and from SMRT Link. SMRT Link includes an authentication server (Keycloak), which can be configured to integrate with your LDAP/AD servers and enable user authentication using your organizations\u2019 user name and password. To ensure a secure connection between the SMRT Link server and your browser, a domain-specific SSL certificate may be installed after completing SMRT Link installation.</p> Details <p>It is important to note that PacBio will not provide a CA-signed SSL certificate. However, once your site has obtained a CA-signed SSL certificate, PacBio\u2019s tools can be used to install it for use with SMRT Link web services. (Note: PacBio recommends that you consult your IT administrator about obtaining an SSL certificate.) You will need a certificate issued by a certificate authority (CA). PacBio has tested SMRT Link with certificates from the following certificate vendors: VeriSign, Thawte and DigiCert.</p> <p>If your site does not provide an SSL certificate, SMRT Link will use a PacBio self-signed SSL certificate. If you use the self-signed SSL certificate, each user will need to accept the browser warnings related to access in an insecure environment. You can also have your IT administrator configure desktops to always trust the provided self-signed certificate. Note that SMRT Link is installed within your organization\u2019s secure network, behind your organization\u2019s firewall.</p> <p>See \u201cUsing SMRT Link with a PacBio self-signed SSL certificate\u201d for details on how to handle the security warnings when accessing SMRT Link.</p> <p>Use the following procedures only if your site provides an SSL certificate. These procedures are not applicable if you are using PacBio\u2019s self-signed SSL certificate.</p> <p>Installing an SSL certificate for NGINX</p> <p>In the new API gateway, SSL transport is handled by the NGINX web server, which uses a simpler configuration consisting of a plain-text certificate and private key. By default, SMRT Link will generate a selfsigned certificate and key the first time you start the new API gateway:</p> <pre><code>$SMRT_ROOT/userdata/config/security/pb-smrtlink-default.crt\n$SMRT_ROOT/userdata/config/security/pb-smrtlink-default.key\n</code></pre> <p>To install a custom certificate for NGINX</p> <ol> <li>Stop SMRT Link services: <pre><code>$SMRT_ROOT/admin/bin/services-stop\n</code></pre></li> <li>Copy the certificate and private key files to these paths: <pre><code>$SMRT_ROOT/userdata/config/security/smrtlink-site.crt\n$SMRT_ROOT/userdata/config/security/smrtlink-site.key\n</code></pre></li> <li>Start SMRT Link services: <pre><code>$SMRT_ROOT/admin/bin/services-start\n</code></pre></li> </ol> <p>Restoring the default self-signed SSL certificate</p> <p>It may sometimes be necessary to uninstall the user-provided SSL certificate and restore the default certificate. This requires the following steps. <pre><code>$SMRT_ROOT/admin/bin/services-stop\n#remove or rename site certificates\n$SMRT_ROOT/admin/bin/services-start\n</code></pre></p> <p>Using SMRT Link with a PacBio self-signed SSL certificate</p> <p>SMRT Link uses self-signed SSL certificate generated by the installer. If your site does not have a signed SSL certificate and you use the self-signed SSL certificate, each user will need to accept the browser warnings related to access in an insecure environment. You can also have your IT administrator configure desktops to always trust the provided self-signed certificate. Note that SMRT Link should be installed within your organization\u2019s secure network, behind your organization\u2019s firewall. Security messages display when users try to login to SMRT Link for the first time using the Chrome browser. These messages may also display other times when accessing SMRT Link. Each SMRT Link user in your organization should address these browser warnings following the procedure below.</p> <ol> <li>The first time you start SMRT Link after installation, you see the following text. Click the Advanced link.<ul> <li></li> </ul> </li> <li>Click the Proceed... link. (You may need to scroll down.)<ul> <li></li> </ul> </li> <li>Close the window by clicking the Close box in the corner.</li> <li>The Login dialog displays, where you enter the User Name and Password. The next time you access SMRT Link, the Login dialog displays directly.</li> </ol>"},{"location":"advanced-topics/#api-documentation","title":"API documentation","text":"Details <p>Detailed API documentation is available at on SMRT Link's Swagger UI, which provides an interactive interface for exploring and testing the API endpoints:</p> <pre><code>https://&lt;SMRT_Link_Server_Hostname&gt;:8243/sl/docs/services/#/default\n</code></pre> <p>Authentication:</p> <p>API access requires authentication tokens obtained via the Keycloak authentication service.</p> <p>Integration Steps:</p> <ol> <li>Obtain API Credentials:</li> </ol> <p>Create a client in Keycloak for API access and obtain client credentials.</p> <ol> <li>Authenticate:</li> </ol> <p>Use the client credentials to obtain an access token:</p> <pre><code>curl -X POST \"https://&lt;SMRT_Link_Server_Hostname&gt;:8243/auth/realms/SMRTLink/protocol/openid-connect/token\"    -H \"Content-Type: application/x-www-form-urlencoded\"    -d \"grant_type=client_credentials&amp;client_id=&lt;client_id&gt;&amp;client_secret=&lt;client_secret&gt;\"\n</code></pre> <ol> <li>Access API Endpoints:</li> </ol> <p>Include the access token in the <code>Authorization</code> header for API requests:</p> <pre><code>curl -X GET \"https://&lt;SMRT_Link_Server_Hostname&gt;:8243/runs\"    -H \"Authorization: Bearer &lt;access_token&gt;\"\n</code></pre>"},{"location":"advanced-topics/#lims-integration","title":"LIMS integration","text":"Details <p>Integrating SMRT Link with a Laboratory Information Management Systems (LIMS) streamlines data management and enhances laboratory workflows.</p> <p>SMRT Link API</p> <p>SMRT Link provides a RESTful API for integration with external systems.</p> <p>Key Endpoints:</p> <ul> <li>Run Management:</li> </ul> <p>Create, monitor, and manage sequencing runs.</p> <ul> <li>Sample Management:</li> </ul> <p>Add, update, and retrieve sample information.</p> <ul> <li>Analysis Management:</li> </ul> <p>Initiate and monitor secondary analyses.</p>"},{"location":"advanced-topics/#database-backups","title":"Database backups","text":"<p>SMRT Link does not perform periodic database backups. It is recommended to schedule regular backups of the SMRT Link database to minimize risks of losing records. However, note that the underlying sequencing or analysis files, such as BAM files, are not affected.</p> Details <p>A database backup is still automatically performed once, during installation or upgrade. Failure to back up the SMRT Link database on a regular schedule risks losing all records in SMRT Link (including users, Data Sets, analyses, barcodes, and references) if a file system or reconfiguration error occurs. </p> <p>We strongly recommend asking your local Linux system administrator to schedule regular weekly backups of the SMRT Link database using standard Linux utilities. A utility script to generate an appropriate cron server command was added at <code>$SMRT_ROOT/admin/bin/generate-cron-backup</code>. </p> <p>This script runs the <code>$SMRT_ROOT/admin/bin/dbhelper --backup</code> command to backup the SMRT Link database at 2AM every night. </p> <p>For additional details, please contact PacBio Technical Support.</p>"},{"location":"advanced-topics/#sending-log-files-to-pacbio-technical-support","title":"Sending log files to PacBio Technical Support","text":"<p>Troubleshooting information can be sent to PacBio Technical Support multiple ways. </p> Details <p>If there is a connection to the PacBio Event Server, do the following:</p> <ul> <li>From the SMRT Link menu: Settings &gt; About &gt; Troubleshooting Information &gt; Send.</li> <li>From a SMRT Link \u201cFailed\u201d analysis results page: Click Send Log Files.</li> </ul> <p>If there is connectivity to the PacBio Event Server, run the following command to generate the information and automatically send it to PacBio Technical Support:</p> <pre><code>$SMRT_ROOT/admin/bin/tsreport-install --bundle --upload\n</code></pre> <p>If there is no connectivity to the PacBio Event Server, run the following command to generate a .tgz file and email the file to <code>support@pacb.com</code> to file a case:</p> <pre><code>$SMRT_ROOT/admin/bin/tsreport-install --bundle\n</code></pre> <p>The generated file can be found here: <code>$SMRT_ROOT/userdata/tsreport/data/ts-install.tgz</code>.</p> <p>Note: The SMRT Link logs archive bundle will be limited to logs from approximately the past 24 hours. Ensure the above tsreport-install options and SMRT Link menu's Send button are run within one day of experiencing the issue being addressed.</p>"},{"location":"advanced-topics/#changing-usage-tracking-settings","title":"Changing usage tracking settings","text":"<p>When first logging in to the SMRT Link GUI after a successful installation or upgrade, users are prompted to notify PacBio of the upgrade/installation success and whether they wish to share SMRT Link analysis usage information with PacBio. We recommend accepting these conditions to better enable remote troubleshooting by PacBio support personnel. </p> <p>Once set, these settings may only be viewed and modified from the command line using the <code>accept-user-agreement</code> tool.</p> Details <p>Warning</p> <p>To use the accept-user-agreement tool, services must be running: <pre><code>$SMRT_ROOT/admin/bin/services-start\n</code></pre></p> <p>To set new settings, use the following command, specifying true or false for the options accordingly. For example: <pre><code>$SMRT_ROOT/admin/bin/accept-user-agreement --install-metrics true --job-metrics true\n</code></pre></p> <p>PacBio is notified of a successful installation or upgrade immediately if the install metrics setting is true. To view the current settings, run the command without any arguments: <pre><code>$SMRT_ROOT/admin/bin/accept-user-agreement\n</code></pre></p> <p>Note</p> <p>If accept-user-agreement is run without arguments and the settings have not been previously set (either in the GUI or on the command line), both the install and job metrics settings will automatically be set to true and PacBio will be immediately notified of the installation or upgrade.</p>"},{"location":"advanced-topics/#starting-smrt-link-automatically-on-server-boot","title":"Starting SMRT Link automatically on server boot","text":"<p>To start SMRT Link automatically when the server boots using systemd, refer to the template service file. </p> Details <p>File located here:</p> <pre><code>$SMRT_ROOT/admin/template/smrtlink.service.tmpl\n</code></pre> <p>Follow the instructions in the template comments to make site-specific modifications and install as a system service unit.</p>"},{"location":"configuration/","title":"Configuring SMRT Link","text":"<p>SMRT Link configuration is done interactively during the installation process (see Installing SMRT Link). For example, during installation you will setup:</p> <ul> <li>The SMRT Link server domain name (DNS)</li> <li>The location of <code>db_datadir</code>, <code>jobs_root</code>, and <code>tmp_dir</code> (see System Requirements)</li> <li>SMRT Analysis job email notifications</li> <li>Compute configurations<ul> <li>You can setup multiple compute configurations, for example:<ol> <li>SLURM distributed analysis (general partition)</li> <li>SLURM distributed analysis (high-mem or CPU partition)</li> <li>Local analysis (non-distributed analysis)</li> </ol> </li> </ul> </li> </ul> <p>Expand the Configuration Details section below to see an example configuration file generated during a SMRT Link installation. This file can be found at <code>$SMRT_ROOT/userdata/config/smrtlink.config</code> following installation. </p> Configuration Details <pre><code># smrtlink config\n\n# 'install' settings\ninstall__user='smrtanalysis';\ninstall__group='smrtanalysis';\ninstall__sluuid='859d2df1-cc8a-4e56-bc5b-0c83df4a5c79';\ninstall__umask='__USE_DEFAULT__';                # Current val: '0022'\n\n# 'system' settings\nsystem__memtotal='__USE_DEFAULT__';              # Current val: '12884901888'\n\n# 'smrtlink' settings\nsmrtlink__dnsname='smrtlinkhost.mydomain.com';\nsmrtlink__gui_port='__USE_DEFAULT__';            # Current val: '9090'\nsmrtlink__services_port='__USE_DEFAULT__';       # Current val: '9091'\nsmrtlink__services_minmem='__USE_DEFAULT__';     # Current val: '3072'\nsmrtlink__services_maxmem='__USE_DEFAULT__';     # Current val: '3072'\nsmrtlink__ics_services_minmem='__USE_DEFAULT__';  # Current val: '1216'\nsmrtlink__ics_services_maxmem='__USE_DEFAULT__';  # Current val: '1216'\nsmrtlink__mail_host='__USE_DEFAULT__';           # Current val: ''\nsmrtlink__mail_port='__USE_DEFAULT__';           # Current val: '25'\nsmrtlink__mail_user='__USE_DEFAULT__';           # Current val: ''\nsmrtlink__mail_password='__USE_DEFAULT__';       # Current val: ''\nsmrtlink__nworkers='__USE_DEFAULT__';                 # Current val: '8'\nsmrtlink__extended_cell_use_enable='__USE_DEFAULT__';  # Current val: 'false'\nsmrtlink__pacbio_internal='__USE_DEFAULT__';     # Current val: 'false'\n\n# 'remote' settings\nremote__eve_server_select='__USE_DEFAULT__';     # Current val: 'production'\nremote__eve_url='__USE_DEFAULT__';               # Current val: ''\nremote__update_server_select='__USE_DEFAULT__';  # Current val: 'production'\nremote__update_url='__USE_DEFAULT__';            # Current val: ''\nremote__update_enable='__USE_DEFAULT__';         # Current val: 'true'\n\n# 'cromwell' settings\ncromwell__port='__USE_DEFAULT__';                # Current val: '9096'\n\n# 'database' settings\ndatabase__dbport='__USE_DEFAULT__';              # Current val: '9095'\ndatabase__dbdatadir='/opt/pacbio/smrtlink/userdata/db_datadir.default';\n\n# 'datadirs' settings\ndatadirs__jobsroot_dir='/opt/pacbio/smrtlink/userdata/jobs_root.default';\ndatadirs__jobsroot_umask='__USE_DEFAULT__';   # Current val: '0022'\ndatadirs__tmpdir_dir='/tmp';\n\n# 'computecfg_00' settings\ncomputecfg_00__name='__USE_DEFAULT__';                # Current val: 'SMRT Analysis Compute Configuration'\ncomputecfg_00__enable='__USE_DEFAULT__';              # Current val: 'true'\ncomputecfg_00__menuorder='__USE_DEFAULT__';           # Current val: '1'\ncomputecfg_00__nproc='8';\ncomputecfg_00__maxchunks='__USE_DEFAULT__';           # Current val: '24'\ncomputecfg_00__jmstype='Slurm';\ncomputecfg_00__cromwell_loglevel='__USE_DEFAULT__';   # Current val: 'INFO'\ncomputecfg_00__cromwell_concurrent_job_limit='__USE_DEFAULT__';  # Current val: '500'\ncomputecfg_00__slurm_bindir='/usr/bin';\ncomputecfg_00__slurm_partition='__USE_DEFAULT__';     # Current val: ''\ncomputecfg_00__slurm_startargs='__USE_DEFAULT__';     # Current val: ''\ncomputecfg_00__slurm_useraccting='__USE_DEFAULT__';   # Current val: 'false'\ncomputecfg_00__slurm_memrequest='__USE_DEFAULT__';    # Current val: 'false'\ncomputecfg_00__slurm_slurmconf='__USE_DEFAULT__';     # Current val: ''\n\n# 'computecfg_01' settings\ncomputecfg_01__name='Local Analysis';\ncomputecfg_01__enable='__USE_DEFAULT__';              # Current val: 'true'\ncomputecfg_01__menuorder='__USE_DEFAULT__';           # Current val: '2'\ncomputecfg_01__nproc='8';\ncomputecfg_01__maxchunks='__USE_DEFAULT__';           # Current val: '24'\ncomputecfg_01__jmstype='NONE';\ncomputecfg_01__cromwell_loglevel='__USE_DEFAULT__';   # Current val: 'INFO'\ncomputecfg_01__cromwell_concurrent_job_limit='__USE_DEFAULT__';  # Current val: '500'\n\n# 'internal' settings\ninternal__version='smrtlink-release_25.3.0.273777';\n</code></pre> <p>Note</p> <p>This configuration file has two compute configurations (<code>computecfg_00</code> and <code>computecfg_01</code>) setup for SLURM distributed analysis and local (non-distributed) analysis.</p> <p></p>"},{"location":"configuration/#reconfiguring-smrt-link","title":"Reconfiguring SMRT Link","text":"<p>Following installation \u2013 if you need to change a given setting \u2013 you can do so by stopping SMRT Link services and using the <code>smrt_reconfig</code> command. The <code>smrt_reconfig</code> command \u2013 similar to the installation script \u2013 provides interactive prompts for each configuartion settings. </p> <p>Stop Services: <code>$SMRT_ROOT/admin/bin/services-stop</code></p> <p>Reconfigure: <code>$SMRT_ROOT/admin/bin/smrt_reconfig</code></p> <p>Start Services: <code>$SMRT_ROOT/admin/bin/services-start</code></p>"},{"location":"configuration/#changing-a-specific-setting","title":"Changing a specific setting","text":"<p>If you know exactly what setting you want to change, you can also perform <code>smrt_reconfig</code> non-interactively. </p> <p>See all the options available: <code>$SMRT_ROOT/admin/bin/smrt_reconfig --help</code></p> <p>Example: To change the temporary directory (<code>tmp_dir</code>) from the default <code>/tmp/smrtlink</code> to <code>/tmp</code>, you could run:</p> <pre><code>$SMRT_ROOT/admin/bin/smrt_reconfig --datadirs-tmpdir-dir /tmp --batch\n</code></pre> <p>Note</p> <p>The <code>--batch</code> option allows you to run the command without interactive prompts, applying the specified changes directly. </p> <p></p>"},{"location":"configuration/#advanced-topics","title":"Advanced Topics","text":"<p>See Advanced Topics for additional configuartion options including the following:</p> <ul> <li>Enabling Keycloak for user and role management</li> <li>Changing Default Passwords</li> <li>LDAP and SSO Integration</li> <li>Adding Local Users</li> <li>Configuring SSL</li> <li>Using the API</li> <li>LIMS integration</li> </ul>"},{"location":"installing-smrt-link/","title":"Installation Guide for SMRT Link v25.3","text":"<p>This guide provides comprehensive instructions for installing SMRT Link v25.3. </p> <p>Note</p> <p>Before getting started please ensure all System Requirements are met.</p>"},{"location":"installing-smrt-link/#installation-steps","title":"Installation steps","text":"Step Action 1 Download and Unzip the Installer: <code>curl -O https://downloads.pacbcloud.com/public/software/installers/smrtlink-release_25.3.0.273777.zip</code> <code>unzip smrtlink-release_25.3.0.273777.zip</code> 2 Log onto Install Host: Access the server as <code>$SMRT_USER</code>. 3 Run the Installer: Execute the following commands based on the installation type:Full SMRT Link:<code>./smrtlink_&lt;version_number&gt;.run --rootdir $SMRT_ROOT</code>SMRT Link Lite:<code>./smrtlink_&lt;version_number&gt;.run --lite true --jmstype NONE --rootdir $SMRT_ROOT --nworkers 4</code> For most installations the default setup options shown below can be accepted. Part 1 of 10: SMRT Link User: It is recommended to run this script as a designated SMRT Link user (e.g. smrtanalysis) who will own all smrtpipe jobs and daemon processes.  Current user is xxx. Use the xxx as the SMRT Link user? [Y/n] Part 2 of 10: SMRT Link Server DNS: The DNS name of the SMRT Link host server is used for creating SMRT Link URLs (e.g. http://smrtlink.example.com:9090), ensuring an SSL certificate will validate.  If the Domain Name System (DNS) does not resolve to the expected address, then an IP address must be used.  Detecting DNS names... Pick an option... Part 3 of 10: SMRT Link Setup: The SMRT Link UI and SMRT Link Services require one port each for proper operation.  The SMRT Link UI port serves to redirect from an unencrypted http connection to the login page using secure https. The SMRT Link Services port is needed for internal access to the SMRT Link webservices API.  Select port numbers which do not conflict with any other process.  Enter the SMRT Link UI (http) port [9090]   Enter the SMRT Link Services port [9091]  Memory settings must be preset for SMRT Link.  By default, the initial (-Xms) and maximum (-Xmx) Java heap sizes are set to the same values.  The default for SMRT Link services is 25% of the total memory with a maximum of 32768 MB.  Using the default value is recommended.  Enter the SMRT Link Services initial memory (in MB)  Enter the SMRT Link Services maximum memory (in MB)  Enter the SMRT Link ICS Services initial memory (in MB)  Enter the SMRT Link ICS Services maximum memory (in MB) Part 4 of 10: Database Setup: The SMRT Link Services use a database which need access to a network port and a directory to store database data files. The port will only be used to access the database from the SMRT Link install host (localhost).  Select a port number which does not conflict with any other process. The database data directory should be located on a high performance file system.  Typically, a local (not shared) disk partition.  Enter the SMRT Link Database port [9095]: Recommend default value 9095  Enter the full path to the 'db_datadir' directory Part 5 of 10: Cromwell Server Setup: The Cromwell Workflow Engine Server manages the workflow for SMRT Analysis jobs.  It requires a single port for proper operation. Select a port number which does not conflict with any other process.  Enter the Cromwell Server port [9096] Recommend default value 9096 Part 6 of 10: Site-specific Directories Setup: SMRT Link makes use of the following site-specific directories: <code>jobs_root</code> and <code>tmp_dir</code>.  <code>jobs_root</code> stores job output from the SMRT Analysis module of SMRT Link.  This directory may require a large amount of disk space (&gt; 15TB, for example).  Enter the full path to the <code>jobs_root</code> directory  <code>tmp_dir</code> - is used for fast I/O operations, and should be located on a high performance file system available on the SMRT Link host and on each compute cluster node individually. Typically, it should be a local (not shared) disk partition. The recommended size size is 1TB (500GB minimum).  If the directory location does not exist, a directory will be automatically created.  Enter the full path to the <code>tmp_dir</code> directory Part 7 of 10: Remote Service Setup: The 'SMRT Link Event Service' provides the ability to send PacBio the following SMRT Link information:  1) installation troubleshooting logs  2) analysis failure logs  3) usage information (sample names and sequence data excluded)  Note: 'SMRT Link Event Service' will be configured in the SMRT Link UI, upon first access after install or upgrade.  The 'SMRT Link Update Service' will provide automatic notification and prompt for installation of SMRT Link update bundles.   Currently, updates of the SMRT Link UI Bundle and the SMRT Link Chemistry Bundle are supported.  The SMRT Link Chemistry Bundle will enable the use of new PacBio consumables.  Enable the 'SMRT Link Update Service'? [Y/n] Part 8 of 10: SMRT Link Analysis Job Email Notification: SMRT Link can be configured to send email notifications of completed analysis jobs to the user who launched the analysis (for both successful and failed jobs). SMRT Link only supports connections to SMTP Relays without encryption. Servers using basic authentication, SSL/TLS, or STARTTLS are not supported. Email notification is disabled if the outgoing mail server host is empty.  Configure the SMTP mail host and port settings below.  Enter the SMRT Link notification outgoing mail server host. Part 9 of 10: SMRT Link Compute Configuration: SMRT Link allows for one or more compute configurations to be defined for processing analysis jobs.  Each compute configuration can specify unique workflow and Job Management System settings, independent from other compute configurations. When configuring a SMRT Analysis job, a drop-down menu under the \"Advanced Parameter Settings\" allows selection of multiple compute configurations. The selected configuration will be used for all JMS cluster submissions for that analysis job.  Configuring SMRT Analysis Compute Configuration (computecfg_00) <code>NAME</code> specifies a unique name for the compute configuration.  Enter the compute config <code>NAME</code> [SMRT Analysis Compute Configuration]  <code>NPROC</code> specifies the maximum number of slots each task may request upon job submissions to a JMS cluster.  One processor core per slot is assumed. Enter the number of processors per task <code>NPROC</code> [8] <code>MAXCHUNKS</code> specifies the maximum number of parallel chunks when breaking up large dataset files. Enter the number of parallel chunks per task <code>MAXCHUNKS</code> [24]  Specify the global <code>concurrent_job_limit</code> for Cromwell.  This is the maximum number of simultaneous jobs that Cromwell can submit to the compute cluster. If configuring a single node system this should be adjusted to ensure the number of concurrently running jobs does not exceed avakiable memory Select the Cromwell <code>concurrent_job_limit</code> [500]  A Job Management System (JMS) may be used to dispatch jobs to a distributed compute environment.  If no Job Management System is specified, the system will run in Non-Distributed Mode and all compute jobs will be run locally on the install host.  Available Job Management Systems will be detected from the <code>$PATH</code> environment variable, but may also be selected manually. SLURM is the supported JMS.  The installer will then confirm settings for <code>SLURM_BINDIR</code>, <code>SLURM_PARTITION</code>, <code>SLURM_STARTARGS</code>, <code>SLURM_USERACCTING</code>, <code>SLURM_MEMREQUEST</code>, <code>SLURM_SLURMCONF</code> and allow the option to modify or add additional compute configurations Part 10 of 10: SMRT Link Analysis Configuration: <code>NWORKERS</code> specifies the maximum number of simultaneous SMRT Analysis workflows that can be run by the SMRT Link server.  This should be set to no more than the number of processors available on the SMRT Link install machine.  The default is the min of 32 and number of processors on the system.  Enter the max number of workers <code>NWORKERS</code> [32] 4 Start Services: Use the command:<code>$SMRT_ROOT/admin/bin/services-start</code> 5 Run Site Acceptance Test (Optional):<code>$SMRT_ROOT/admin/bin/run-sat-services</code>"},{"location":"installing-smrt-link/#post-installation-steps","title":"Post-installation steps","text":"Step Action 1 Enable Keycloak Admin interface (Optional). We recommend leaving the console disabled when you are not actively managing server access:<code>$SMRT_ROOT/admin/bin/restart-gui --enable-keycloak-console</code><code>$SMRT_ROOT/admin/bin/restart-gui --disable-keycloak-console</code>  See Advanced Topics. 2 Configure LDAP and SSO (Optional):Set up LDAP and SSO integration and add users. See Advanced Topics. 3 Install SSL Certificate (Optional):Upon the first startup of SMRT Link, NGINX automagically generates a key and self signed certificate. To create a new certificate see Advanced Topics. 4 Change Default Passwords (Optional):Update admin and pbicsuser passwords. See Advanced Topics."},{"location":"installing-smrt-link/#smrt-tools-installation-steps","title":"SMRT Tools installation steps","text":"<p>SMRT Tools are the command-line tools included with SMRT Link. These are developer tools for use by bioinformaticians working with secondary analysis results. Aailable tools will be installed at <code>$SMRT_ROOT/smrtcmds/bin/</code>. For tool details please utilize the help function, <code>{tool} \u2013-help</code>,or reference PacBio GitHub for select tools. </p> Step Action 1 Install SMRT Tools:<code>./smrtlink_&lt;version_number&gt;.run --rootdir $SMRT_ROOT --smrttools-only</code> 2 Access Tools:<code>$SMRT_ROOT/smrtlink/smrtcmds/bin</code>"},{"location":"instrument-connection/","title":"Instrument connection","text":"<p>This section provides guidance on connecting an instrument (Revio or Vega system) to SMRT Link v25.3 to enable users to start sequencing runs and ensure seamless data transfer following sequence completion and importation into SMRT Link to view run metrics. </p> <p>The following procedure is available only for SMRT Link users whose role is <code>Admin</code>.</p>"},{"location":"instrument-connection/#storage-considerations","title":"Storage considerations","text":"<p>If not done already, identify a location in the cloud or on your shared file system (NFS) where the instrument can transfer data. This location must be readable from the SMRT Link server. </p> Instrument Storage Requirements Revio system Up to 78 TB/year  Assuming 120 Gbp HiFi Yield (~60 GB file size) per SMRT Cell and 1,300 SMRT Cells per year. Vega system Up to 6 TB/year  Assuming ~60 Gbp HiFi yield (~30 GB file size) per SMRT Cell and 200 SMRT Cells per year. <ul> <li>This location can be located on the same share as <code>jobs_root</code>, but should be considered separately with regard to storage needs.</li> <li>Job storage requirements depend on utilization and analyses performed.</li> </ul>"},{"location":"instrument-connection/#setting-up-a-file-transfer-schemelocation","title":"Setting up a file transfer scheme/location","text":"Step Action 1 Identify the location on you SMRT Link or file share (NFS) where data should transfer 2 In SMRT Link web interface, navigate to <code>Settings &gt; Instrument Settings</code> 3 Click <code>+ New File Transfer Location</code> 4 Choose the desired scheme: <ul><li> ssh (srs) </li><li> Amazon S3 </li><li> Google Cloud Storage </li><li> Microsoft Azure Blob Storage </li><li> S3-compatible storage </li></ul> 5 Enter the required information for the selected transfer scheme. <ul><li> Name: User-specified text string that displays in the Data directory dialog to identify the transfer scheme. </li><li> Description: User-specified text string that describes the transfer scheme. </li><li> Scheme-specific fields (see below). </li></ul> 6 Click <code>Save</code> 7 Once the transfer scheme is associated with a connected instrument (see Connect a New Instrument), return to this menu and click <code>Test Settings</code> to ensure that the scheme works. <p>Warning</p> <p>The rsync daemon file transfer scheme will be disabled through a future software update in favor of more secure alternatives. Once disabled, file transfers will fail. PacBio strongly recommends transitioning to a supported transfer option.</p>"},{"location":"instrument-connection/#scheme-specific-fields","title":"Scheme-specific fields","text":""},{"location":"instrument-connection/#ssh-srs","title":"SSH (srs)","text":"Expand scheme details <p>Note</p> <p>If you are using the SSH (srs) scheme, contact your Field Service Engineer (FSE) or PacBio tech support to have an SSH key created on your instrument. You will recieve the public SSH key which should be placed in <code>~/.ssh/authorized_keys</code> file on the transfer server for whatever user is recieving the transfer (typically <code>$SMRT_USER</code>; Username setting below)</p> <p>Please ensure that the <code>~/.ssh</code> folder and <code>~/.ssh/authorized_keys</code> file have the correct permissions set to allow the instrument to transfer data. </p> <pre><code>chmod 700 ~/.ssh\nchmod 600 ~/.ssh/authorized_keys\n</code></pre> <ul> <li>Host: DNS name or IP address of your storage server. This may be the SMRT Link server or another storage location on the network. The name of this system can be obtained from your system administrator. Example: mp-srs.</li> <li>Destination path: File system location that contains all data transferred via srs.</li> <li>(Optional) Relative path: Path used to place run data in a specific sub- directory underneath the location specified in Destination path, on a per-instrument basis. A common value for this field is the instrument serial number or name. This field can contain only alphanumerics, \u201c-\u201c, \u201c_\u201d, and \u201c/\u201d. This field allows separation of run data from different instruments, which allows for easier location of particular run data when browsing the file system.</li> <li>Username: Name of the service account used for transferring datasets to the remote file server.</li> <li>SSH Key: Full path to the SSH private key on the instrument. Please contact your FSE or PacBio tech support to recieve this path. </li> </ul>"},{"location":"instrument-connection/#amazon-s3","title":"Amazon S3","text":"Expand scheme details <ul> <li>Bucket: Bucket name without the \u201cs3://\u201d prefix. Example: mp-s3</li> <li>Region: Region where the bucket is hosted. To find your region run: <pre><code>curl --silent --head https://s3.amazonaws.com/&lt;your-bucket&gt; | grep 'x-amz-bucket-region'\n</code></pre></li> <li>Path (Optional): Path used to place run data in a specific sub- directory within the specified bucket. This field can contain only alphanumerics, \u201c-\u201c, \u201c_\u201d, and \u201c/\u201d. This field allows separation of run data from different instruments, which allows for easier location of particular run data when browsing the file system.</li> <li>Access key ID</li> <li>Secret access key</li> </ul> <p>S3 Bucket configuration </p> <ol> <li>Create a private S3 bucket, e.g. <code>mylabname-pacbio-instrument-data</code> in your preferred geographical region.</li> <li>Create an IAM policy pacbio-instrument-file-transfer granting the necessary permissions on the bucket, including the ability to read, write, and delete objects.</li> <li>Create an IAM user with the new policy attached.</li> <li>Create static access credentials for the new IAM user and save them for step 5.</li> <li>Log in to SMRT Link as an admin user, navigate to Instrument Settings, and create a new Amazon S3 transfer scheme with the bucket name and region from step 1, and access credentials from step 4. Example IAM policy, where <code>$BUCKET</code> is replaced by the actual destination bucket name (e.g. <code>mylabname-pacbio-instrument-data</code>). <pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"VisualEditor0\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:GetObject\",\n        \"s3:GetBucketWebsite\",\n        \"s3:GetObjectVersionTagging\",\n        \"s3:ListBucketVersions\",\n        \"s3:GetObjectAttributes\",\n        \"s3:GetObjectTagging\",\n        \"s3:ListBucket\",\n        \"s3:GetBucketVersioning\",\n        \"s3:GetObjectVersionAttributes\",\n        \"s3:GetObjectVersion\",\n        \"s3:DeleteObject\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::$BUCKET\",\n        \"arn:aws:s3:::$BUCKET/*\"\n      ]\n    }\n  ]\n}\n</code></pre></li> </ol>"},{"location":"instrument-connection/#google-cloud-storage","title":"Google Cloud Storage","text":"Expand scheme details <ul> <li>Bucket: Bucket name with no \u201cgs://\u201d prefix</li> <li>Path: /path/to/subfolder in bucket to which to post</li> <li>Access key: Create HMAC key in GCP console (see https://cloud.google.com/storage/docs/authentication/managing-hmackeys#console)</li> <li>Secret key: Create HMAC key in GCP console (see https://cloud.google.com/storage/docs/authentication/managing-hmackeys#console)</li> </ul>"},{"location":"instrument-connection/#microsoft-azure-blob-storage","title":"Microsoft Azure Blob Storage","text":"Expand scheme details <ul> <li>Account name: Account name, for example  from https://.blob.core.windows.net <li>Container: The container name from https://.blob.core.windows.net/ <li>Path: /path/to/subfolder in container</li> <li>Account key: Key associated with account</li>"},{"location":"instrument-connection/#s3-compatible-storage","title":"S3-compatible storage","text":"Expand scheme details <p>Note</p> <p>Follow Amazon S3 Bucket configuration requirements when setting up S3 compatible storage.</p> <ul> <li>Endpoint: URL for object storage endpoint, for example https://storage.googleapi.com</li> <li>Bucket: Bucket name with no prefix, for example /bucketname .</li> <li>Region (Optional): Region name for cloud-based services.</li> <li>Path (Optional): Path used to place run data in a specific sub- directory underneath the location specified by your Bucket, on a per-instrument basis. A common value for this field is the instrument serial number or name. This field can contain only alphanumerics, \u201c-\u201c, \u201c_\u201d, and \u201c/\u201d. This field allows separation of run data from different instruments, which allows for easier location of particular run data when browsing the file system.</li> <li>Access key: Access key for cloud-based services.</li> <li>Secret key: Secret key for cloud-based services</li> </ul>"},{"location":"instrument-connection/#connect-a-new-instrument","title":"Connect a new instrument","text":"<p>Note</p> <p>The following procedure is available only for SMRT Link users whose role is <code>Admin</code>.</p> Step Action 1 In SMRT Link web interface, navigate to <code>Settings &gt; Instrument Settings</code> 2 Click <code>+ Connect New Instrument.</code> 3 Enter the IP address of the new Revio or Vega system. This is available on the instrument touchscreen; please write it down for later reference. 4 Enter the Instrument Secret Key. This is available on the instrument touchscreen, please write it down for later reference. Then, click <code>Continue</code>. 5 Enter the name of the new instrument, then click <code>Continue</code>.  Note: The name must contain only alphanumeric characters, spaces, hyphens (-), underscores (_), or apostrophes ('). In addition, the instrument name must be unique for a given SMRT Link installation. Recommend using the instrument serial number (Revio: 84###; Vega: 21###) 6 Select a File Transfer Location. See Setting up a File Transfer Scheme/Location. 7 Click <code>Continue</code> 7 Verify the information, click <code>Confirm</code>, and then <code>Close</code>. The new instrument displays in the <code>Instrument Management</code> table as well as in the <code>Instruments</code> module"},{"location":"instrument-connection/#modifying-an-existing-instrument-connection","title":"Modifying an existing instrument connection","text":"<p>Note</p> <p>The following procedure is available only for SMRT Link users whose role is <code>Admin</code>.</p> Step Action 1 In SMRT Link web interface, navigate to <code>Settings &gt; Instrument Settings</code> 2 In the Instrument Management table, click an existing instrument. The Edit Instrument dialog displays 3 (Optional) Edit the instrument name. Note: The name must contain only alphanumeric characters, spaces, hyphens (-), underscores (_), or apostrophes ('). 4 (Optional) Select a different File Transfer Location. Note: If a run is currently in progress, the file transfer location will be updated after the run is completed. 5 Click Apply"},{"location":"quick-start-guide/","title":"Quick Start Guide for SMRT Link v25.3 Installation","text":"<p>This guide provides a concise overview of the steps required to install SMRT Link v25.3 or SMRT Link Lite v25.3. For detailed instructions, please refer to Installing SMRT Link .</p> <p>For detailed walkthrough, check out our SMRT Link Install tutorial video.</p> <p>Note</p> <p>This Quick Start Guide assumes that all prerequistes are met. Please reference System Requirements and ensure the checklist below is completed before proceeding with the installation.</p>"},{"location":"quick-start-guide/#installationupgrade-checklist","title":"Installation/upgrade checklist","text":"\u2705 Appropriate hardware located and configuration chosen with Linux Rocky or Ubuntu OS. \u2705 Installation root directory (<code>$SMRT_ROOT</code>) identified on shared (NFS) file system. \u2705 Service account (<code>$SMRT_USER</code>) identified/created to install/run the SMRT Link services. \u2705 <code>$SMRT_ROOT</code> base directory has appropriate rwx permissions for <code>$SMRT_USER</code>. \u2705 Job Management System (JMS) and Singularity installed/setup (if using SMRT Analysis). \u2705 Full path for SMRT Analysis database directory (<code>db_datadir</code>) chosen on the local file system on the install node. \u2705 Full path for SMRT Analysis jobs output directory (<code>jobs_root</code>) chosen on shared (NFS) file system. \u2705 Full path for SMRT Analysis temporary directory (<code>tmp_dir</code>) chosen on the local file system on each node. \u2705 Ports 8243, 9243, and 9443 are available and open for SMRT Link web services. \u2705 (Optional) LDAP settings. See Advanced Topics for details. \u2705 (Optional) SSL certificate for NGINX.  See Advanced Topics for details."},{"location":"quick-start-guide/#installation-steps","title":"Installation steps","text":"Step Action 1 Log onto Install Host: Access the server as <code>$SMRT_USER</code>. 2 Download and Unzip the Installer:<code>curl -O https://downloads.pacbcloud.com/public/software/installers/smrtlink-release_25.3.0.273777.zip</code> <code>unzip smrtlink-release_25.3.0.273777.zip</code> 3 Run the Installer: Execute the following commands based on the installation type:Full SMRT Link:<code>./smrtlink_&lt;version_number&gt;.run --rootdir $SMRT_ROOT</code>SMRT Link Lite:<code>./smrtlink_&lt;version_number&gt;.run --lite true --jmstype NONE --rootdir $SMRT_ROOT --nworkers 4</code> For most installations the default setup options can be accepted. See Installing SMRT Link for more information on configuration options. 4 Start Services: Use the command:<code>$SMRT_ROOT/admin/bin/services-start</code> 5 Run Site Acceptance Test (Optional):<code>$SMRT_ROOT/admin/bin/run-sat-services</code> <p>Note</p> <p>For additional post-installation managment options please see the Post-Installation Steps.</p>"},{"location":"quick-start-guide/#upgrade-steps","title":"Upgrade steps","text":"Step Action 1 Log onto Install Host: Access the server as <code>$SMRT_USER</code>. 2 Download and Unzip the Installer:<code>curl -O https://downloads.pacbcloud.com/public/software/installers/smrtlink-release_25.3.0.273777.zip</code> <code>unzip smrtlink-release_25.3.0.273777.zip</code> 3 Stop Services:<code>$SMRT_ROOT/admin/bin/services-stop</code> 4 Run Installer with Upgrade Option:<code>./smrtlink_&lt;version_number&gt;.run --rootdir $SMRT_ROOT --upgrade</code> 5 Start Services:<code>$SMRT_ROOT/admin/bin/services-start</code> 6 Run Site Acceptance Test (Optional):<code>$SMRT_ROOT/admin/bin/run-sat-services</code> 7 Clear Browser Cache (Recomended):In Chrome, go to <code>More Tools &gt; Clear Browsing Data</code>, select \"All Time\" for cached files, and clear. This ensures defualt settings are properly loaded."},{"location":"system-requirements/","title":"System Requirements","text":""},{"location":"system-requirements/#supported-systems","title":"Supported systems","text":"Instrument Instrument software Revio\u00ae system Instrument software v13.3, all chemistries Vega\u2122 system Instrument software v1.1.0, all chemistries <p>Sequel\u00ae II systems, Sequel IIe systems, and Sequel systems are not supported.</p>"},{"location":"system-requirements/#operating-systems","title":"Operating Systems","text":"Supported Distributions Specification Rocky Linux 9 &amp; 10 Ubuntu 22.04 &amp; 24.04 <p>Warning</p> <ul> <li>SMRT Link is not guaranteed to work on operating system versions that are no longer supported by their vendors.</li> <li>SMRT Link server software cannot be installed on Mac OS or Windows systems.</li> </ul>"},{"location":"system-requirements/#hardware-configuration","title":"Hardware configuration","text":"<p>There are three hardware configuration options for on-prem SMRT Link installation:</p> <ol> <li>SMRT Link (multi-node)</li> <li>SMRT Link (single-node)</li> <li>SMRT Link Lite</li> </ol> <p>Which configuration option to choose depends on your available compute resources and if you need SMRT Analysis (push-button secondary analysis). </p> Configuration Option CPU RAM Local Storage Use Cases SMRT Linkmulti-node Full SMRT Analysis support Head Node 8 cores 32 GB 500 GB SSD Compute Node(s) 64 cores 4 GB/core (256 GB) 100 GB SSD or HDD SMRT Linksingle-node 16 cores 64 GB 1 TB SSD Limited SMRT Analysis support SMRT Link Lite 4 cores 16 GB 50 GB SSD No SMRT Analysis"},{"location":"system-requirements/#smrt-link-lite","title":"SMRT Link Lite","text":"<p>SMRT Link Lite is optimized for non-server hardware by disabling compute-intensive components.</p>"},{"location":"system-requirements/#smrt-link-single-node","title":"SMRT Link (single node)","text":"<p>In the SMRT Link single-node configuration, certain workflows may be unsupported or limited by the maximum input file size for a single-node system. Below is a list of recommended input size limits for datasets when performing analysis with a single-node configuration. </p> <p>Additionally, it is recommended to adjust the <code>concurrent-job-limit</code> in Step 9 of the SMRT Link installation process or manually edit the <code>$SMRT_ROOT/userdata/generated/config/cromwell.conf</code> file to ensure that the number of concurrently running jobs does not exceed the available memory on your single-node system. </p> Workflow Limit HiFi Mapping 150 Gb Read Segmentation no limit Iso-Seq Analysis 20 M reads Single cell Iso-Seq Analysis 60 M reads Target Enrichment no limit but disable variant calling PureTarget repeat expansion no limit Variant Calling not supported Microbial Genome Analysis no limit"},{"location":"system-requirements/#software-dependencies","title":"Software Dependencies","text":"<ul> <li>SMRT Link server should run on a dedicated 64-bit Linux host with <code>libc 2.17</code> or greater.</li> <li>SMRT Link requires the Google Chrome web browser.</li> <li>SMRT Link requires a minimum screen resolution of 1600 by 900 pixels.</li> </ul> <p>If you are installing a full SMRT Link instance and want to use SMRT Analysis to run push-button analyses there are additional software requirements. </p> <p>Job Management System (JMS)</p> <p>Configuring SMRT Link with a Job Management System (JMS) is required for SMRT Analysis. Using unsupported JMS may require additional user provided configuration.</p> <ul> <li>SLURM (supported)</li> <li>LSF</li> <li>PBS</li> </ul> <p>Singularity</p> <p>Singularity v3.10.5 or later is required for the Variant Calling and Target Enrichment analysis workflows. Apptainer may be used as a drop-in replacement for Singularity.</p> <ul> <li>We recommend installing the Singularity through the package manager (e.g., <code>apt</code>, <code>yum</code>), with the setuid bit enabled (<code>chmod u+s singularity</code>) in the <code>/bin</code> or <code>/usr/bin</code> directory. The singularity binary should then have <code>-rwsrxr-x</code> permissions.</li> <li>Because a SMRT Link server running SMRT Analysis should be configured to run with SLURM, we recommend installing the <code>singularity-ce</code> package on the SMRT Link server, as well as each of the nodes within the relevant partition where you are submitting jobs.</li> <li>Singularity should not be installed in an NFS area of the file system.</li> <li>The singularity binary cannot be installed to any file system area mounted with the <code>nosuid</code> and/or <code>noexec</code> mount options.</li> <li>To run Variant Calling or Target Enrichment, Singularity requires the following Docker images:<ul> <li><code>docker://google/deepvariant:1.6.1</code></li> <li><code>docker://google/deepvariant:1.6.1-gpu</code></li> <li><code>docker://quay.io/biocontainers/whatshap:1.4--py39hc16433a_1</code></li> <li><code>docker://ghcr.io/dnanexus-rnd/glnexus:v1.4.1</code></li> </ul> </li> </ul> <p>To save these images locally, we provide a script, <code>$SMRT_ROOT/admin/bin/fetch-singularity-cache</code>, which uses the root account to download the images, using <code>/tmp</code> as a temporary file space, before depositing the <code>.sif</code> files into <code>$SMRT_ROOT/userdata/singularity</code> and changing ownership to the requesting user. We recommend running this script after installing SMRT Link.</p> <p>Note</p> <p>DeepVariant 1.9.0 is the newest model and trained on SPRQ sequencing chemistry. It is not yet available for use with SMRT Link but is available in our GitHub PacBio WGS Variant (WDL) Pipeline (for advanced users).</p>"},{"location":"system-requirements/#server-environment","title":"Server environment","text":""},{"location":"system-requirements/#definitions-and-variables","title":"Definitions and variables","text":"<ul> <li><code>$SMRT_USER</code>: Dedicated service account to install and run SMRT Link<ul> <li>Recommend username: <code>smrtanalysis</code></li> </ul> </li> <li><code>$SMRT_ROOT</code>: The SMRT Link installation root directory<ul> <li>Recommended install location: <code>/opt/pacbio/smrtlink</code></li> </ul> </li> <li><code>smrtlinkhost.mydomain.com</code>: The fully-qualified domain name of the SMRT Link Install Host.</li> <li><code>smrtlinkhost</code>: The short host name of the SMRT Link Install Host.</li> </ul> <p>We recommend setting <code>SMRT_USER</code> and <code>SMRT_ROOT</code> in your shell profile to avoid having to type them repeatedly.</p> <pre><code>export SMRT_USER=smrtanalysis\nexport SMRT_ROOT=/opt/pacbio/smrtlink\n</code></pre> <p>Note</p> <ul> <li>The base directory <code>/opt/pacbio/</code> should be created prior to installation and owned by <code>$SMRT_USER</code> with read/write/execute permissions.</li> <li>The <code>smrtlink/</code> directory should not exist prior to installation as it will be created during installation</li> <li><code>db_datadir</code>, <code>jobs_root</code>, and <code>tmp_dir</code> can be modified during installation or using <code>$SMRT_ROOT/admin/bin/smrt_reconfig</code> scripts. </li> </ul> <p>Warning</p> <p>Do not install SMRT Link as the root user!</p>"},{"location":"system-requirements/#associated-install-directories","title":"Associated install directories","text":"Directory name Description Default Permissions Servers requiring access via the same PATH <code>$SMRT_ROOT</code> SMRT Link installation directory <code>/opt/pacbio/smrtlink</code> rwx for <code>$SMRT_USER</code> SMRT Link server and all compute nodes (NFS) <code>db_datadir</code> SMRT Analysis database directory  During installation, a symbolic link is set from <code>$SMRT_ROOT/userdata/db_datadir</code> to the desired location. <code>$SMRT_ROOT/userdata/db_datadir.default</code> rwx for only <code>$SMRT_USER</code> SMRT Link server only (not NFS) <code>jobs_root</code> SMRT Analysis workflow output/results directory  During installation a symbolic link is set from <code>$SMRT_ROOT/userdata/jobs_root</code> to the desired location. <code>$SMRT_ROOT/userdata/jobs_root.default</code> rwx for <code>$SMRT_USER</code> SMRT Link server and all compute nodes (NFS) <code>tmp_dir</code> SMRT Analysis temporary directory used for fast I/O operations  During installation a symbolic link is set in <code>$SMRT_ROOT/userdata/tmp_dir</code> to the desired location for this database <code>/tmp/smrtlink</code> rwx for <code>$SMRT_USER</code> SMRT Link server only (not NFS) <p>Note</p> <p>Storage Considerations: Job storage requirements depend on utilization and analyses performed. <code>jobs_root</code> is unrelated to storage requirements related to instrument data transfer.</p> <ul> <li>For the Revio system: Up to 78 TB/year, assuming ~60 GB of HiFi data per SMRT Cell and 1,300 SMRT Cells per year.</li> <li>For the Vega system: Up to 6 TB/year, assuming ~30 GB of HiFi data per SMRT Cell and 200 SMRT Cells per year.</li> </ul>"},{"location":"system-requirements/#other-environment-considerations","title":"Other environment considerations","text":"<ul> <li>No other daemons/services processes are bound to the same ports as the SMRT Link services. Ideally, the SMRT Link server should be dedicated to only running SMRT Link services.</li> <li>PacBio highly recommends that the system clock be synchronized to a domain or public NTP time server.</li> <li>The <code>$SMRT_USER</code> service account must have both the <code>nofile</code> and <code>nproc</code> soft user limits set to a minimum of <code>8192</code>. (See the ulimit and limits.conf Linux man pages for more information).</li> <li>The host operating system must provide the <code>en_US.UTF-8</code> locale/character set.</li> <li>SMRT Link and SMRT Link Lite are not designed to handle changes in the hostname. If you are using them to connect to a Revio or Vega instrument you should ensure that the configured hostname is and will remain accessible across the network.</li> </ul>"},{"location":"system-requirements/#network-configuration","title":"Network Configuration","text":"<p>Firewall Settings: Ensure ports are open and not blocked by firewalls. No other daemons/services processes can be bound to the same ports as the SMRT Link services.</p>"},{"location":"system-requirements/#smrt-link-related-ports","title":"SMRT Link related ports","text":"Source Destination Port Description Customer laptop/PC SMRT Link Server 8243/tcp SMRT Link web services and GUI https and communication from instrument Customer laptop/PC SMRT Link Server 9443/tcp SMRT Link administration  Disabled by default in SMRT Link services  Must be manually enabled using <code>--enable-keycloak-console</code> Revio/Vega system SMRT Link Server 8243/tcp Communication from instrument to SMRT Link SMRT Link Server Revio/Vega system 9243/tcp Communication from SMRT Link to instrument SMRT Link Server PacBio Event server  (https://smrtlink-eve.pacbcloud.com) 443/tcp Optional reporting of server metrics to PacBio Tech support SMRT Link Server PacBio Update server  (https://smrtlink-update.pacbcloud.com) 443/tcp Downloading chemistry updates SMRT Link server Shared Network File System (NFS) NFS ports (may vary depending on configuration) Shared file system (NFS) storage for analysis data HPC nodes Shared Network File System (NFS) storage\u00b9 NFS ports (may vary depending on configuration) Shared file system (NFS) storage for analysis data"},{"location":"system-requirements/#additional-instrument-related-ports","title":"Additional instrument related ports","text":"<p>If you are connecting SMRT Link to an instrument, please be aware of these additional ports that may need to be opened in your firewall to enable the instrument to communicate with SMRT Link, transfer data, and connect to PacBio for remote support. </p> Source Destination Port Description Revio/Vega system PacBio SecureLink Servers (see below) 22/tcp, 80/tcp, or 443/tcp Communication for remote support (PacBio Insight) Revio/Vega system Storage (cloud or local) SSH: 22/tcp  Cloud: 80/tcp or 443/tcp depending on protocol Data transfer from instrument to customer storage Revio and Vega system Customer or external NTP servers 123/udp Used for updating machine time. Defaults to pool.ntp.org Revio and Vega system Customer server 53/udp or 53/tcp Nameservers <p>PacBio SecureLink Servers</p> Region Servers Ports Required US securelink-us.pacificbiosciences.com (34.228.163.151)  securelink-us-001.pacificbiosciences.com (34.228.163.151)  securelink-us-002.pacificbiosciences.com (18.207.27.182) 22, 80, or 443/TCP EMEA securelink-emea.pacificbiosciences.com (3.122.45.57)  securelink-emea-001.pacificbiosciences.com (3.122.45.57)  securelink-emea-002.pacificbiosciences.com (3.121.132.217) 22, 80, or 443/TCP APAC securelink-apac.pacificbiosciences.com (3.0.254.58)  securelink-apac-001.pacificbiosciences.com (3.0.254.58)  securelink-apac-002.pacificbiosciences.com (13.251.34.130) 22, 80, or 443/TCP <p>Full Network Diagram </p>"},{"location":"system-requirements/#user-authentication-optional","title":"User Authentication (Optional)","text":"<p>SMRT Link supports integration with LDAP for user login authentication, as well as using local Keycloak users that exist only within SMRT Link. SMRT Link can also leverage Single Sign-On (SSO) when configured through Keycloak, allowing users to authenticate once and access multiple systems seamlessly.</p> <p>If you are interested in configuring SMRT Link integration with your organization\u2019s LDAP or SSO setup, PacBio recommends consulting your LDAP or identity administrator to determine the correct settings.</p> <p>See Advanced Topics for more information on configuring LDAP and SSO in Keycloak.</p>"},{"location":"system-requirements/#ssltls-certificate-optional","title":"SSL/TLS Certificate (Optional)","text":"<p>SMRT Link uses SSL/TLS to encrypt logins and data transmitted via HTTPS. SMRT Link includes an authentication server (Keycloak), which can integrate with LDAP/AD or Single Sign-On (SSO) to enable secure user authentication with your organization\u2019s credentials. To ensure a secure connection between the SMRT Link server and your browser, a domain-specific SSL certificate can be installed after SMRT Link installation.</p> <p>See Advanced Topics for more information on installing an SSL certificate for SMRT Link.</p>"},{"location":"upgrading-smrt-link/","title":"Upgrading SMRT Link to v25.3","text":"<p>This section provides detailed instructions for upgrading SMRT Link to version 25.3. Following these steps ensures a smooth transition and maintains the integrity of your data and configurations.</p>"},{"location":"upgrading-smrt-link/#supported-upgrade-paths","title":"Supported upgrade paths","text":"<p>Upgrades to v25.3 from versions since 13.x are supported. </p>"},{"location":"upgrading-smrt-link/#pre-upgrade-considerations","title":"Pre-upgrade considerations","text":"<p>Before initiating the upgrade, ensure the following:</p> <ol> <li> <p>Backup: Create a complete backup of your current SMRT Link installation, including configuration files and databases.</p> <p>A utility script to generate an appropriate cron server command was added at <code>$SMRT_ROOT/admin/bin/generate-cron-backup</code>. This helper script makes it easy to take a pg_dump of the smrtlinkdb and keycloak databases. Ideally, these should both be backed up.</p> </li> <li> <p>Active Jobs: Verify that no active SMRT Link analysis jobs are running. It's crucial to complete or terminate all jobs before proceeding.</p> </li> <li> <p>Disk Space: Ensure sufficient disk space is available for the upgrade process.</p> </li> </ol>"},{"location":"upgrading-smrt-link/#upgrade-steps","title":"Upgrade steps","text":"<p>Follow these steps to upgrade SMRT Link to v25.3:</p> Step Action 1 Download and Unzip the Installer: <code>curl -O https://downloads.pacbcloud.com/public/software/installers/smrtlink-release_25.3.0.273777.zip</code> <code>unzip smrtlink-release_25.3.0.273777.zip</code> 2 Log onto Install Host: Access the server as <code>$SMRT_USER</code>. 3 Stop SMRT Link Services: Use the command: <code>$SMRT_ROOT/admin/bin/services-stop</code>  Ensure that no active SMRT Link analysis jobs are running before stopping services. 4 Run the Installer with Upgrade Option: Navigate to the directory containing the downloaded installer. Execute the installer with the upgrade option: <code>./smrtlink_&lt;version_number&gt;.run --rootdir $SMRT_ROOT --upgrade</code>  The <code>$SMRT_ROOT</code> directory must be an existing SMRT Link installation. Several validation steps will occur to ensure that a valid <code>$SMRT_ROOT</code> is being updated. 5 Start SMRT Link Services: Use the command:  <code>$SMRT_ROOT/admin/bin/services-start</code> 6 Run Site Acceptance Test (Optional):  <code>$SMRT_ROOT/admin/bin/run-sat-services</code>.  Successful completion indicates that the HPC configuration is functioning correctly."},{"location":"upgrading-smrt-link/#post-upgrade-steps","title":"Post-upgrade steps","text":"Step Action 1 Clear Browser Cache (Recommended): Open Google Chrome and navigate to <code>More Tools</code> &gt; <code>Clear browsing data</code>. Select <code>All Time</code> for the time range and check <code>Cached images and files</code>. Click <code>Clear data</code> and restart the browser. 2 Configure LDAP and SSO (Optional): Set up LDAP and SSO integration and add users. See Advanced Topics. 3 Install SSL Certificate (Optional):Upon the first startup of SMRT Link, NGINX automagically generates a key and self signed certificate. To create a new certificate see Advanced Topics. 4 Change Default Passwords (Optional):Update admin and pbicsuser passwords. See Advanced Topics."},{"location":"upgrading-smrt-link/#smrt-tools-upgrade-steps","title":"SMRT Tools upgrade steps","text":"<p>SMRT Tools are the command-line tools included with SMRT Link. These are developer tools for use by bioinformaticians working with secondary analysis results. </p> Step Action 1 Upgrade SMRT Tools:<code>./smrtlink_&lt;version_number&gt;.run --rootdir $SMRT_ROOT --smrttools-only --upgrade</code> 2 Access Tools:<code>$SMRT_ROOT/smrtlink/smrtcmds/bin</code>"},{"location":"upgrading-smrt-link/#troubleshooting","title":"Troubleshooting","text":"<p>If you encounter issues during the upgrade:</p> <ul> <li> <p>Logs: Review the installation logs located in <code>$SMRT_ROOT/install/logs</code> for error messages.</p> </li> <li> <p>Support: Contact PacBio support at support@pacb.com or call 1-877-920-PACB (7222) for assistance.</p> </li> </ul>"}]}